<?xml version="1.0" encoding="UTF-8"?> 
<definitions id="Definition"
             targetNamespace="http://www.omg.org/bpmn20"
             typeLanguage="http://www.java.com/javaTypes"
             expressionLanguage="http://www.mvel.org/2.0"
             xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd"
             xmlns:g="http://www.jboss.org/drools/flow/gpd"
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
             xmlns:tns="http://www.jboss.org/drools">

  <itemDefinition id="_act_auditorItem" structureRef="String" />
  <itemDefinition id="_act_approveItem" structureRef="String" />
  <itemDefinition id="_contentItem" structureRef="String" />
  <itemDefinition id="_choice_auditorItem" structureRef="String" />
  <itemDefinition id="_choice_approveItem" structureRef="String" />
  <itemDefinition id="_comment_auditorItem" structureRef="String" />
  <itemDefinition id="_comment_approveItem" structureRef="String" />

  <itemDefinition id="_30BC6068-23A3-4AC4-B954-8764439033D9-act_auditorItem" structureRef="String" />
  <itemDefinition id="_30BC6068-23A3-4AC4-B954-8764439033D9-act_approveItem" structureRef="String" />
  <itemDefinition id="_30BC6068-23A3-4AC4-B954-8764439033D9-contentItem" structureRef="String" />
  <itemDefinition id="_30BC6068-23A3-4AC4-B954-8764439033D9-choice_auditorItem" structureRef="String" />
  <itemDefinition id="_30BC6068-23A3-4AC4-B954-8764439033D9-choice_approveItem" structureRef="String" />
  <itemDefinition id="_30BC6068-23A3-4AC4-B954-8764439033D9-comment_auditorItem" structureRef="String" />
  <itemDefinition id="_30BC6068-23A3-4AC4-B954-8764439033D9-comment_approveItem" structureRef="String" />

  <itemDefinition id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B-act_auditorItem" structureRef="String" />
  <itemDefinition id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B-act_approveItem" structureRef="String" />
  <itemDefinition id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B-contentItem" structureRef="String" />
  <itemDefinition id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B-choice_auditorItem" structureRef="String" />
  <itemDefinition id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B-choice_approveItem" structureRef="String" />
  <itemDefinition id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B-comment_auditorItem" structureRef="String" />
  <itemDefinition id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B-comment_approveItem" structureRef="String" />

  <itemDefinition id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE-act_auditorItem" structureRef="String" />
  <itemDefinition id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE-act_approveItem" structureRef="String" />
  <itemDefinition id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE-contentItem" structureRef="String" />
  <itemDefinition id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE-choice_auditorItem" structureRef="String" />
  <itemDefinition id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE-choice_approveItem" structureRef="String" />
  <itemDefinition id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE-comment_auditorItem" structureRef="String" />
  <itemDefinition id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE-comment_approveItem" structureRef="String" />

  <itemDefinition id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2-act_auditorItem" structureRef="String" />
  <itemDefinition id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2-act_approveItem" structureRef="String" />
  <itemDefinition id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2-contentItem" structureRef="String" />
  <itemDefinition id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2-choice_auditorItem" structureRef="String" />
  <itemDefinition id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2-choice_approveItem" structureRef="String" />
  <itemDefinition id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2-comment_auditorItem" structureRef="String" />
  <itemDefinition id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2-comment_approveItem" structureRef="String" />

  <itemDefinition id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_InMessageType" />
  <message id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_InMessage" itemRef="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_InMessageType" />
  <interface id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_ServiceInterface" name="project.service.action">
    <operation id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_ServiceOperation" name="message">
      <inMessageRef>_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_InMessage</inMessageRef>
    </operation>
  </interface>

  <itemDefinition id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_InMessageType" />
  <message id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_InMessage" itemRef="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_InMessageType" />
  <interface id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_ServiceInterface" name="lifecycle.service.action">
    <operation id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_ServiceOperation" name="finish">
      <inMessageRef>_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_InMessage</inMessageRef>
    </operation>
  </interface>

  <process processType="Private" isExecutable="true" id="pm.khdocumentapprove1" name="空簧文件审批流程1" tns:packageName="kh" >

    <!-- process variables -->
    <property id="act_auditor" itemSubjectRef="_act_auditorItem"/>
    <property id="act_approve" itemSubjectRef="_act_approveItem"/>
    <property id="content" itemSubjectRef="_contentItem"/>
    <property id="choice_auditor" itemSubjectRef="_choice_auditorItem"/>
    <property id="choice_approve" itemSubjectRef="_choice_approveItem"/>
    <property id="comment_auditor" itemSubjectRef="_comment_auditorItem"/>
    <property id="comment_approve" itemSubjectRef="_comment_approveItem"/>

    <!-- nodes -->
    <startEvent id="_97B786EF-C3B8-4880-A7C1-FD019FA6235B" name="" />
    <userTask id="_30BC6068-23A3-4AC4-B954-8764439033D9" name="审核" >
      <ioSpecification>
        <dataInput id="_30BC6068-23A3-4AC4-B954-8764439033D9_TaskNameInput" name="TaskName" />
        <dataOutput id="_30BC6068-23A3-4AC4-B954-8764439033D9_choiceOutput" name="choice" />
        <dataOutput id="_30BC6068-23A3-4AC4-B954-8764439033D9_commentOutput" name="comment" />
        <inputSet>
          <dataInputRefs>_30BC6068-23A3-4AC4-B954-8764439033D9_TaskNameInput</dataInputRefs>
        </inputSet>
        <outputSet>
          <dataOutputRefs>_30BC6068-23A3-4AC4-B954-8764439033D9_choiceOutput</dataOutputRefs>
          <dataOutputRefs>_30BC6068-23A3-4AC4-B954-8764439033D9_commentOutput</dataOutputRefs>
        </outputSet>
      </ioSpecification>
      <dataInputAssociation>
        <targetRef>_30BC6068-23A3-4AC4-B954-8764439033D9_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">审核</from>
          <to xsi:type="tFormalExpression">_30BC6068-23A3-4AC4-B954-8764439033D9_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
      <dataOutputAssociation>
        <sourceRef>_30BC6068-23A3-4AC4-B954-8764439033D9_choiceOutput</sourceRef>
        <targetRef>choice_auditor</targetRef>
      </dataOutputAssociation>
      <dataOutputAssociation>
        <sourceRef>_30BC6068-23A3-4AC4-B954-8764439033D9_commentOutput</sourceRef>
        <targetRef>comment_auditor</targetRef>
      </dataOutputAssociation>
      <potentialOwner>
        <resourceAssignmentExpression>
          <formalExpression>#{act_auditor}</formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
    </userTask>
    <exclusiveGateway id="_DFDA1269-3AF6-4897-A23E-C870189B8CCC" name="" gatewayDirection="Diverging" />
    <userTask id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B" name="批准" >
      <ioSpecification>
        <dataInput id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B_TaskNameInput" name="TaskName" />
        <dataOutput id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B_choiceOutput" name="choice" />
        <dataOutput id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B_commentOutput" name="comment" />
        <inputSet>
          <dataInputRefs>_C0603343-961A-4BA8-AE71-6EEFB9348E4B_TaskNameInput</dataInputRefs>
        </inputSet>
        <outputSet>
          <dataOutputRefs>_C0603343-961A-4BA8-AE71-6EEFB9348E4B_choiceOutput</dataOutputRefs>
          <dataOutputRefs>_C0603343-961A-4BA8-AE71-6EEFB9348E4B_commentOutput</dataOutputRefs>
        </outputSet>
      </ioSpecification>
      <dataInputAssociation>
        <targetRef>_C0603343-961A-4BA8-AE71-6EEFB9348E4B_TaskNameInput</targetRef>
        <assignment>
          <from xsi:type="tFormalExpression">批准</from>
          <to xsi:type="tFormalExpression">_C0603343-961A-4BA8-AE71-6EEFB9348E4B_TaskNameInput</to>
        </assignment>
      </dataInputAssociation>
      <dataOutputAssociation>
        <sourceRef>_C0603343-961A-4BA8-AE71-6EEFB9348E4B_choiceOutput</sourceRef>
        <targetRef>choice_auditor</targetRef>
      </dataOutputAssociation>
      <dataOutputAssociation>
        <sourceRef>_C0603343-961A-4BA8-AE71-6EEFB9348E4B_commentOutput</sourceRef>
        <targetRef>comment_auditor</targetRef>
      </dataOutputAssociation>
      <potentialOwner>
        <resourceAssignmentExpression>
          <formalExpression>#{act_approve}</formalExpression>
        </resourceAssignmentExpression>
      </potentialOwner>
    </userTask>
    <exclusiveGateway id="_F2C6E150-554F-4231-A286-4EE1EC4CA39F" name="" gatewayDirection="Converging" />
    <serviceTask id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE" name="work message" operationRef="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_ServiceOperation" implementation="Other" >
      <ioSpecification>
        <dataInput id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_param" name="Parameter" />
        <dataOutput id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_result" name="Result" />
        <inputSet>
          <dataInputRefs>_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_param</dataInputRefs>
        </inputSet>
        <outputSet>
          <dataOutputRefs>_4237AF6D-A3C4-41CC-9E05-F3B055649DFE_result</dataOutputRefs>
        </outputSet>
      </ioSpecification>
    </serviceTask>
    <serviceTask id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2" name="finish work" operationRef="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_ServiceOperation" implementation="Other" >
      <ioSpecification>
        <dataInput id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_param" name="Parameter" />
        <dataOutput id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_result" name="Result" />
        <inputSet>
          <dataInputRefs>_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_param</dataInputRefs>
        </inputSet>
        <outputSet>
          <dataOutputRefs>_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2_result</dataOutputRefs>
        </outputSet>
      </ioSpecification>
    </serviceTask>
    <endEvent id="_48D9C0E9-29EA-4F3B-905C-D0D4CBEDE27E" name="" >
        <terminateEventDefinition/>
    </endEvent>

    <!-- connections -->
    <sequenceFlow id="_97B786EF-C3B8-4880-A7C1-FD019FA6235B-_30BC6068-23A3-4AC4-B954-8764439033D9" sourceRef="_97B786EF-C3B8-4880-A7C1-FD019FA6235B" targetRef="_30BC6068-23A3-4AC4-B954-8764439033D9" />
    <sequenceFlow id="_30BC6068-23A3-4AC4-B954-8764439033D9-_DFDA1269-3AF6-4897-A23E-C870189B8CCC" sourceRef="_30BC6068-23A3-4AC4-B954-8764439033D9" targetRef="_DFDA1269-3AF6-4897-A23E-C870189B8CCC" />
    <sequenceFlow id="_DFDA1269-3AF6-4897-A23E-C870189B8CCC-_C0603343-961A-4BA8-AE71-6EEFB9348E4B" sourceRef="_DFDA1269-3AF6-4897-A23E-C870189B8CCC" targetRef="_C0603343-961A-4BA8-AE71-6EEFB9348E4B" tns:priority="1" >
      <conditionExpression xsi:type="tFormalExpression" language="http://www.java.com/java" >return "通过".equals(choice_auditor);</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="_C0603343-961A-4BA8-AE71-6EEFB9348E4B-_F2C6E150-554F-4231-A286-4EE1EC4CA39F" sourceRef="_C0603343-961A-4BA8-AE71-6EEFB9348E4B" targetRef="_F2C6E150-554F-4231-A286-4EE1EC4CA39F" />
    <sequenceFlow id="_DFDA1269-3AF6-4897-A23E-C870189B8CCC-_F2C6E150-554F-4231-A286-4EE1EC4CA39F" sourceRef="_DFDA1269-3AF6-4897-A23E-C870189B8CCC" targetRef="_F2C6E150-554F-4231-A286-4EE1EC4CA39F" tns:priority="2" >
      <conditionExpression xsi:type="tFormalExpression" language="http://www.java.com/java" >return true;</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="_F2C6E150-554F-4231-A286-4EE1EC4CA39F-_4237AF6D-A3C4-41CC-9E05-F3B055649DFE" sourceRef="_F2C6E150-554F-4231-A286-4EE1EC4CA39F" targetRef="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE" />
    <sequenceFlow id="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE-_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2" sourceRef="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE" targetRef="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2" />
    <sequenceFlow id="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2-_48D9C0E9-29EA-4F3B-905C-D0D4CBEDE27E" sourceRef="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2" targetRef="_48D9C0E9-29EA-4F3B-905C-D0D4CBEDE27E" />

  </process>

  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="pm.khdocumentapprove1" >
      <bpmndi:BPMNShape bpmnElement="_97B786EF-C3B8-4880-A7C1-FD019FA6235B" >
        <dc:Bounds x="72" y="171" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_30BC6068-23A3-4AC4-B954-8764439033D9" >
        <dc:Bounds x="156" y="155" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_DFDA1269-3AF6-4897-A23E-C870189B8CCC" >
        <dc:Bounds x="297" y="171" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_C0603343-961A-4BA8-AE71-6EEFB9348E4B" >
        <dc:Bounds x="386" y="155" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_F2C6E150-554F-4231-A286-4EE1EC4CA39F" >
        <dc:Bounds x="527" y="171" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE" >
        <dc:Bounds x="616" y="155" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2" >
        <dc:Bounds x="761" y="155" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="_48D9C0E9-29EA-4F3B-905C-D0D4CBEDE27E" >
        <dc:Bounds x="905" y="171" width="48" height="48" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="_97B786EF-C3B8-4880-A7C1-FD019FA6235B-_30BC6068-23A3-4AC4-B954-8764439033D9" >
        <di:waypoint x="96" y="195" />
        <di:waypoint x="206" y="195" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_30BC6068-23A3-4AC4-B954-8764439033D9-_DFDA1269-3AF6-4897-A23E-C870189B8CCC" >
        <di:waypoint x="206" y="195" />
        <di:waypoint x="321" y="195" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_DFDA1269-3AF6-4897-A23E-C870189B8CCC-_C0603343-961A-4BA8-AE71-6EEFB9348E4B" >
        <di:waypoint x="321" y="195" />
        <di:waypoint x="436" y="195" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_C0603343-961A-4BA8-AE71-6EEFB9348E4B-_F2C6E150-554F-4231-A286-4EE1EC4CA39F" >
        <di:waypoint x="436" y="195" />
        <di:waypoint x="551" y="195" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_DFDA1269-3AF6-4897-A23E-C870189B8CCC-_F2C6E150-554F-4231-A286-4EE1EC4CA39F" >
        <di:waypoint x="321" y="195" />
        <di:waypoint x="321" y="277" />
        <di:waypoint x="551" y="277" />
        <di:waypoint x="551" y="195" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_F2C6E150-554F-4231-A286-4EE1EC4CA39F-_4237AF6D-A3C4-41CC-9E05-F3B055649DFE" >
        <di:waypoint x="551" y="195" />
        <di:waypoint x="666" y="195" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_4237AF6D-A3C4-41CC-9E05-F3B055649DFE-_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2" >
        <di:waypoint x="666" y="195" />
        <di:waypoint x="811" y="195" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="_FBBC9EE4-F85E-4AED-8D70-0F67FFE38FD2-_48D9C0E9-29EA-4F3B-905C-D0D4CBEDE27E" >
        <di:waypoint x="811" y="195" />
        <di:waypoint x="929" y="195" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>

</definitions>