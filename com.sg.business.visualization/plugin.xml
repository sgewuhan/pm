<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <category
            id="visualization"
            name="可视化">
      </category>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.ProjectSetNavigator"
            id="vis.projectset.navigator"
            name="项目组合导航"
            restorable="true">
      </view>

   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DetailMain"
            id="vis.main"
            name="主要绩效指标"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashMainIndicators"
            id="vis.main.indicators"
            name="指示器"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashBudgetAndCost"
            id="vis.eco.budgetandcost"
            name="预算执行"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashEcoRevenue"
            id="vis.eco.revenue"
            name="销售利润"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashSchedualRisk"
            id="vis.risk.schedual"
            name="超期风险"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashCostRisk"
            id="vis.risk.cost"
            name="超支风险"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashDepartment"
            id="vis.dept.main"
            name="部门项目综合运营状况"
            restorable="true">
      </view>
   </extension>
   <extension
         point="com.sg.widgets.navigator">
      <navigator
            id="vis.projectset.navigator"
            tree="vis.projectset.navigator">
         <filterAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
            <column
                  columnDefinitionId="account.userid">
            </column>
            <column
                  columnDefinitionId="account.username">
            </column>
         </filterAction>
         <searchAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
            <column
                  columnDefinitionId="account.userid">
            </column>
            <column
                  columnDefinitionId="account.username">
            </column>
         </searchAction>
      </navigator>
      <navigator
            id="vis.projectset"
            provideSelection="true"
            table="vis.projectset">
         <!--filterAction>
            <column
                  columnDefinitionId="project.desc">
            </column>
            <column
                  columnDefinitionId="project.workorder">
            </column>
            <column
                  columnDefinitionId="planfinish">
            </column>
            <column
                  columnDefinitionId="project.launchorg_id">
            </column>
            <column
                  columnDefinitionId="chargerid">
            </column>
            <column
                  column="status"
                  name=" 状态"
                  type="String">
            </column>
         </filterAction>
         <searchAction>
            <column
                  columnDefinitionId="project.desc">
            </column>
            <column
                  columnDefinitionId="project.workorder">
            </column>
            <column
                  columnDefinitionId="project.launchorg_id">
            </column>
            <column
                  columnDefinitionId="chargerid">
            </column>
         </searchAction-->
      </navigator>
      <navigator
            id="vis.projectset.schedual"
            provideSelection="true"
            table="vis.projectset.schedual">
      </navigator>
      <navigator
            id="vis.projectset.budgetandinvestment"
            provideSelection="true"
            table="vis.projectset.budgetandinvestment">
      </navigator>
      <navigator
            id="vis.projectset.revenue"
            provideSelection="true"
            table="vis.projectset.revenue">
      </navigator>
      <navigator
            id="vis.org.selector.managerrole"
            provideSelection="false"
            tree="vis.org.selector.managerrole">
         <filterAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
            <column
                  columnDefinitionId="organization.organizationType">
            </column>
            <column
                  columnDefinitionId="organization.isFunctionDepartment">
            </column>
            <column
                  columnDefinitionId="organization.isContainer">
            </column>
            <column
                  columnDefinitionId="organization.description">
            </column>
            <column
                  columnDefinitionId="organization.costCenterCode">
            </column>
         </filterAction>
         <searchAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
            <column
                  columnDefinitionId="organization.organizationType">
            </column>
            <column
                  columnDefinitionId="organization.isFunctionDepartment">
            </column>
            <column
                  columnDefinitionId="organization.isContainer">
            </column>
            <column
                  columnDefinitionId="organization.description">
            </column>
            <column
                  columnDefinitionId="organization.costCenterCode">
            </column>
         </searchAction>
      </navigator>
      <navigator
            id="vis.projectset.navigator.org"
            tree="vis.projectset.navigator.org">
         <filterAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
         </filterAction>
         <searchAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
         </searchAction>
      </navigator>
      <navigator
            id="vis.projectset.costdetail"
            table="vis.projectset.costdetail">
      </navigator>
   </extension>
   <extension
         point="com.sg.widgets.tree">
      <tree
            autoExpandLevel="2"
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="organization"
            contentProvider="com.sg.business.visualization.data.ProjectSetContentProvider"
            customItemHeight="40"
            dataSet="com.sg.business.visualization.data.VisNavigatorDataSet"
            dbName="pm2"
            deleteDelegator="com.sg.business.visualization.delegator.UserProjectPerfDel"
            dropTargetListener="com.sg.business.visualization.view.DropProjectToOwnerSet"
            headerVisiable="false"
            id="vis.projectset.navigator"
            idfield="_id"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="false"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.ProjectSetNavigatorLabelProvider"
               name="组织名称"
               style="SWT.LEFT"
               type="String"
               width="-1">
         </column>
         <structure
               modelRelation="organization_organization">
         </structure>
         <structure
               modelRelation="organization_projectmanager">
         </structure>
      </tree>
      <tree
            autoExpandLevel="2"
            dataSet="com.sg.business.model.dataset.organization.OrgRootOfManagerRole"
            hasCheck="true"
            headerVisiable="false"
            id="vis.org.selector.managerrole"
            lineVisiable="false">
         <column
               columnDefinitionId="com.sg.widgets.column.desc">
         </column>
         <structure
               modelRelation="organization_organization">
         </structure>
      </tree>
      <tree
            autoExpandLevel="2"
            canCreate="false"
            canDelete="false"
            canEdit="false"
            canRead="false"
            collectionName="organization"
            contentProvider="com.sg.business.visualization.data.ProjectSetContentProvider"
            dataSet="com.sg.business.model.dataset.organization.OrgOfOwnerManager"
            dbName="pm2"
            headerVisiable="false"
            id="vis.projectset.navigator.org"
            idfield="_id"
            lineVisiable="false"
            multiSelection="false"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.widgets.commons.labelprovider.PrimaryObjectLabelProvider"
               name="组织名称"
               style="SWT.LEFT"
               type="String"
               width="-1">
         </column>
         <structure
               modelRelation="organization_organization">
         </structure>
      </tree>
   </extension>
   <extension
         point="com.sg.widgets.table">
      <table
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="project"
            customItemHeight="60"
            dataSet="com.sg.business.model.dataset.visualization.VisProjectSet"
            dbName="pm2"
            dragSourceListener="com.sg.widgets.commons.dnd.DragPrimaryObjectSource"
            fix="1"
            headerVisiable="true"
            id="vis.projectset"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.DescLabelProvider"
               lazyDisplay="true"
               name="项目名称描述"
               type="String"
               width="320">
         </column>
         <column
               column="planfinish"
               labelProvider="com.sg.business.visualization.labelprovider.SchedualLabelProvider"
               lazyDisplay="true"
               name="进度概况"
               type="Date"
               width="200">
         </column>
         <column
               column="rndcost"
               labelProvider="com.sg.business.visualization.labelprovider.BudgetAndInvestmentLabelProvider"
               lazyDisplay="true"
               name="预算和投入"
               type="String"
               width="200">
         </column>
         <column
               column="revenue"
               labelProvider="com.sg.business.visualization.labelprovider.RevenueLabelProvider"
               lazyDisplay="true"
               name="销售收入和利润"
               type="String"
               width="200">
         </column>
      </table>
      <table
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="project"
            customItemHeight="60"
            dataSet="com.sg.business.model.dataset.visualization.VisProjectSet"
            dbName="pm2"
            dragSourceListener="com.sg.widgets.commons.dnd.DragPrimaryObjectSource"
            fix="1"
            headerVisiable="true"
            id="vis.projectset.schedual"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.DescLabelProvider"
               lazyDisplay="true"
               name="项目名称描述"
               type="String"
               width="320">
         </column>
         <column
               column="planfinish"
               labelProvider="com.sg.business.visualization.labelprovider.SchedualLabelProvider"
               lazyDisplay="true"
               name="进度概况"
               type="Date"
               width="200">
         </column>
         <column
               column="status"
               labelProvider="com.sg.business.visualization.labelprovider.SchedualDetailLabelProvider"
               lazyDisplay="true"
               name="里程碑"
               type="String"
               width="160">
         </column>
      </table>
      <table
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="project"
            customItemHeight="60"
            dataSet="com.sg.business.model.dataset.visualization.VisProjectSet"
            dbName="pm2"
            dragSourceListener="com.sg.widgets.commons.dnd.DragPrimaryObjectSource"
            fix="1"
            headerVisiable="true"
            id="vis.projectset.budgetandinvestment"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.DescLabelProvider"
               lazyDisplay="true"
               name="项目名称描述"
               type="String"
               width="320">
         </column>
         <column
               column="rndcost"
               labelProvider="com.sg.business.visualization.labelprovider.BudgetAndInvestmentLabelProvider"
               lazyDisplay="true"
               name="预算和投入"
               type="String"
               width="200">
         </column>
         <column
               column="col1"
               labelProvider="com.sg.business.visualization.labelprovider.BudgetLabelProvider"
               lazyDisplay="true"
               name="预算"
               type="String"
               width="60">
         </column>
         <column
               column="col2"
               labelProvider="com.sg.business.visualization.labelprovider.InvestmentLabelProvider"
               lazyDisplay="true"
               name="实际"
               type="String"
               width="60">
         </column>
         <column
               column="col3"
               labelProvider="com.sg.business.visualization.labelprovider.InvestmentLabelProvider2"
               lazyDisplay="true"
               name="部门投入"
               type="String"
               width="60">
         </column>
         <column
               column="col4"
               labelProvider="com.sg.business.visualization.labelprovider.OvercostCostLabelProvider"
               lazyDisplay="true"
               name="超支"
               type="String"
               width="60">
         </column>
      </table>
      <table
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="project"
            customItemHeight="60"
            dataSet="com.sg.business.model.dataset.visualization.VisProjectSet"
            dbName="pm2"
            dragSourceListener="com.sg.widgets.commons.dnd.DragPrimaryObjectSource"
            fix="1"
            headerVisiable="true"
            id="vis.projectset.revenue"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.DescLabelProvider"
               lazyDisplay="true"
               name="项目名称描述"
               type="String"
               width="320">
         </column>
         <column
               column="revenue"
               labelProvider="com.sg.business.visualization.labelprovider.RevenueLabelProvider"
               lazyDisplay="true"
               name="销售收入和利润"
               type="String"
               width="200">
         </column>
         <column
               column="d1"
               labelProvider="com.sg.business.visualization.labelprovider.RevenueDetailLabelProvider"
               lazyDisplay="true"
               name="销售收入"
               type="String"
               width="60">
         </column>
         <column
               column="budget"
               labelProvider="com.sg.business.visualization.labelprovider.InvestmentLabelProvider"
               lazyDisplay="true"
               name="研发成本"
               type="String"
               width="60">
         </column>
         <column
               column="d2"
               labelProvider="com.sg.business.visualization.labelprovider.SalesCostDetailLabelProvider"
               lazyDisplay="true"
               name="销售成本"
               type="String"
               width="60">
         </column>
         <column
               column="d3"
               labelProvider="com.sg.business.visualization.labelprovider.ProfitDetailLabelProvider"
               lazyDisplay="true"
               name="利润"
               type="String"
               width="60">
         </column>
      </table>
      <table
            headerVisiable="true"
            id="vis.projectset.costdetail"
            lineVisiable="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               name="项目名称">
         </column>
         <column
               column="desc"
               name="项目名称">
         </column>
      </table>
   </extension>
   <extension
         point="com.sg.widgets.dataEditor">
      <editor
            collectionName="projectprovider"
            dbName="pm2"
            id="editor.visualization.projectset"
            name="项目组合">
         <navigatorpage
               id="projectset.info"
               navigatorId="vis.projectset"
               pageBodyPartCreater="com.sg.business.visualization.editor.projectset.ProjectSetContent"
               title="综合">
         </navigatorpage>
         <navigatorpage
               id="projectset.schedual"
               navigatorId="vis.projectset.schedual"
               pageBodyPartCreater="com.sg.business.visualization.editor.projectset.ProjectSetDashboardSchedual"
               title="进度">
         </navigatorpage>
         <navigatorpage
               id="projectset.budgetandinvestment"
               navigatorId="vis.projectset.budgetandinvestment"
               pageBodyPartCreater="com.sg.business.visualization.editor.projectset.ProjectSetDashboardBudInv"
               title="预算和投入">
         </navigatorpage>
         <navigatorpage
               id="projectset.revenue"
               navigatorId="vis.projectset.revenue"
               pageBodyPartCreater="com.sg.business.visualization.editor.projectset.ProjectSetDashboardRevenue"
               title="销售收入和利润">
         </navigatorpage>
      </editor>
      <editor
            collectionName="userprojectperf"
            dbName="pm2"
            id="editor.visualization.addprojectset"
            name="添加至项目组合">
         <basicpage
               id="项目组合"
               title="项目组合">
            <pagecolumn>
               <section
                     label="设定项目组合">
                  <combo
                        editPart="Combo"
                        editable="true"
                        id="desc"
                        inputValidator="com.sg.business.visualization.validator.ProjectSetValidator"
                        label="项目组合"
                        labelVisible="true"
                        name="desc"
                        optionProvider="com.sg.business.visualization.option.ProjectSetOption"
                        persistable="true"
                        required="false"
                        type="String">
                  </combo>
               </section>
            </pagecolumn>
         </basicpage>
      </editor>
      <editor
            collectionName="project"
            dbName="pm2"
            id="editor.visualization.project"
            isDefault="true"
            memo="查看项目"
            name="项目">
         <basicpage
               description="项目的基本信息"
               id="project.basicpage"
               image="image/project_24.png"
               title="基本">
            <pagecolumn>
               <section
                     label="项目摘要">
                  <fieldgroup
                        columnCount="2"
                        makeColumnWidthEqual="false">
                     <text
                           editPart="Text(Single Line)"
                           editable="false"
                           id="projectnumber"
                           label="项目编号"
                           labelVisible="true"
                           name="projectnumber"
                           persistable="false"
                           required="false"
                           type="String">
                     </text>
                     <combo
                           editPart="Combo(Read Only)"
                           editable="false"
                           id="status"
                           label="状态"
                           labelVisible="false"
                           name="status"
                           option="status"
                           persistable="true"
                           required="false"
                           type="String">
                     </combo>
                  </fieldgroup>
                  <text
                        editPart="Text(Single Line)"
                        editable="true"
                        id="desc"
                        label="项目名称"
                        labelVisible="true"
                        name="desc"
                        persistable="true"
                        required="false"
                        type="String">
                  </text>
                  <text
                        editPart="Text(Multi Line)"
                        editable="true"
                        id="description"
                        label="描述"
                        labelVisible="true"
                        name="description"
                        persistable="true"
                        required="false"
                        type="String">
                  </text>
               </section>
               <section
                     label="项目经理, 部门">
                  <text
                        editPart="Text(Single Line)"
                        editable="false"
                        id="chargerid"
                        label="项目经理"
                        labelVisible="true"
                        name="chargerid"
                        persistable="false"
                        presentation="com.sg.business.commons.field.presentation.UserIdFieldPres"
                        required="false"
                        type="String">
                  </text>
                  <text
                        editPart="Text(Single Line)"
                        editable="false"
                        id="org_id"
                        label="项目管理部门"
                        labelVisible="true"
                        name="org_id"
                        persistable="true"
                        presentation="com.sg.business.commons.field.presentation.OrgFieldPres"
                        required="false"
                        type="String">
                  </text>
                  <list
                        addTableItemHandler="com.sg.business.commons.field.action.AddOrganization"
                        editable="false"
                        heightHint="108"
                        id="launchorg_id"
                        label="项目承担组织"
                        labelVisible="true"
                        labelprovider="com.sg.business.commons.labelprovider.OrgLabelProvidder"
                        name="launchorg_id"
                        persistable="true">
                  </list>
               </section>
            </pagecolumn>
            <pagecolumn>
               <section
                     label="计划">
                  <dateTime
                        editPart="DateDialog"
                        editableHandler="com.sg.business.commons.field.editable.ProjectFieldEditableControl"
                        id="planstart"
                        label="计划开始"
                        labelVisible="true"
                        name="planstart"
                        persistable="true"
                        required="false"
                        type="Date">
                  </dateTime>
                  <dateTime
                        editPart="DateDialog"
                        editable="true"
                        editableHandler="com.sg.business.commons.field.editable.ProjectFieldEditableControl"
                        id="planfinish"
                        label="计划完成"
                        labelVisible="true"
                        name="planfinish"
                        persistable="true"
                        required="false"
                        type="Date">
                  </dateTime>
                  <fieldgroup
                        columnCount="2">
                     <spinner
                           editable="false"
                           id="planduration"
                           label="工期(天)"
                           labelVisible="true"
                           name="planduration"
                           persistable="true"
                           required="false"
                           spinnerSetting="0,999999,1,100">
                     </spinner>
                     <text
                           editPart="Text(Single Line)"
                           editable="true"
                           editableHandler="com.sg.business.commons.field.editable.ProjectFieldEditableControl"
                           id="planworks"
                           label="工时(时)"
                           labelVisible="true"
                           name="planworks"
                           persistable="true"
                           required="false"
                           type="Double">
                     </text>
                  </fieldgroup>
               </section>
               <section
                     label="实际">
                  <dateTime
                        editPart="DateDialog"
                        editable="false"
                        id="actualstart"
                        label="实际开始"
                        labelVisible="true"
                        name="actualstart"
                        persistable="true"
                        required="false"
                        type="Date">
                  </dateTime>
                  <dateTime
                        editPart="DateDialog"
                        editable="false"
                        id="actualfinish"
                        label="实际完成"
                        labelVisible="true"
                        name="actualfinish"
                        persistable="true"
                        required="false"
                        type="Date">
                  </dateTime>
                  <fieldgroup
                        columnCount="2">
                     <spinner
                           editable="false"
                           id="actualduration"
                           label="工期(天)"
                           labelVisible="true"
                           name="actualduration"
                           persistable="true"
                           required="false"
                           spinnerSetting="0,999999,1,100">
                     </spinner>
                     <text
                           editPart="Text(Single Line)"
                           editable="true"
                           id="actualworks"
                           label="工时(时)"
                           labelVisible="true"
                           name="actualworks"
                           persistable="true"
                           required="false"
                           type="Double">
                     </text>
                  </fieldgroup>
               </section>
               <section
                     label="工作令号">
                  <list
                        editable="false"
                        heightHint="108"
                        id="workorder"
                        label="工作令号"
                        labelVisible="false"
                        name="workorder"
                        persistable="true"
                        required="false"
                        tooltips="项目关联的工作令号,可以添加多个">
                  </list>
               </section>
            </pagecolumn>
         </basicpage>
         <navigatorpage
               createAfterSave="true"
               description="项目团队的各个角色和成员"
               id="project.team"
               image="image/group_24.png"
               navigatorId="project.team"
               pageBodyPartCreater="com.sg.business.project.wizards.ProjectTeamPage"
               title="项目组">
         </navigatorpage>
         <navigatorpage
               id="project.wbs"
               image="image/wbs_24.png"
               navigatorId="project.wbs"
               title="进度">
         </navigatorpage>
         <basicpage
               description="项目预算科目和金额"
               id="project.financial"
               image="image/financial_24.png"
               pageDelegator="com.sg.business.commons.page.ProjectBudgetPage"
               title="预算">
         </basicpage>
         <navigatorpage
               id="project.designateinvestment"
               image="image/currency_24.png"
               navigatorId="project.designateinvestment"
               pageBodyPartCreater="com.sg.business.visualization.editor.project.ProjectDashboardDesInv"
               title="研发成本">
         </navigatorpage>
         <navigatorpage
               id="project.allocatedinvestment"
               image="image/currency_24.png"
               navigatorId="project.allocatedinvestment"
               pageBodyPartCreater="com.sg.business.visualization.editor.project.ProjectDashboardAllInv"
               title="成本中心">
         </navigatorpage>
         <navigatorpage
               id="project.revenue"
               image="image/cash_24.png"
               navigatorId="project.revenue"
               pageBodyPartCreater="com.sg.business.visualization.editor.project.ProjectDashboardRevenue"
               title="销售收入">
         </navigatorpage>
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:main?before=create">
         <command
               commandId="visualization.command.demo1"
               icon="image/preview_24.png"
               label="检查客户端Flash"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="perspective.system">
                  </equals>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="toolbar:main?after=common.separator">
         <command
               commandId="visualization.command.projectset"
               icon="image/folderproject_24.png"
               label="添加"
               style="push"
               tooltip="添加至项目组合">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="perspective.visualization">
                  </equals>
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false">
                        <instanceof
                              value="com.sg.business.model.Project">
                        </instanceof>
                     </iterate>
                  </with>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="visualization.command.projectset.remove"
               icon="image/folderproject_24.png"
               label="移除"
               style="push"
               tooltip="从项目组合移除">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="perspective.visualization">
                  </equals>
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false">
                        <instanceof
                              value="com.sg.business.model.Project">
                        </instanceof>
                     </iterate>
                  </with>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="visualization.command.setfilter"
               icon="image/cal2_24.png"
               label="期间 [本年度]"
               style="push"
               tooltip="设置展现的数据期间">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="perspective.vis.home">
                  </equals>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="visualization.command.setdepartment"
               icon="image/org_24.png"
               label="组织 [本组织]"
               style="push"
               tooltip="设置展现的项目集">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="perspective.vis.home">
                  </equals>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="visualization.command.demo1"
            name="demo">
      </command>
      <command
            id="visualization.command.projectset"
            name="添加至项目组合">
      </command>
      <command
            id="visualization.command.projectset.remove"
            name="从项目组合移除">
      </command>
      <command
            id="visualization.command.setfilter"
            name="期间 [本年度]">
      </command>
      <command
            id="visualization.command.setdepartment"
            name="组织 [本部门]">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.sg.business.visualization.ui.CheckFlash"
            commandId="visualization.command.demo1">
      </handler>
      <handler
            class="com.sg.business.visualization.view.handler.ProjectSetAdd"
            commandId="visualization.command.projectset">
      </handler>
      <handler
            class="com.sg.business.visualization.view.handler.SetFilter"
            commandId="visualization.command.setfilter">
      </handler>
      <handler
            class="com.sg.business.visualization.view.handler.SetDepartmentFilter"
            commandId="visualization.command.setdepartment">
      </handler>
      <handler
            class="com.sg.business.visualization.view.handler.ProjectSetRemove"
            commandId="visualization.command.projectset.remove">
      </handler>
   </extension>
   <extension
         point="com.mobnut.db.documentModelAdapter">
      <doc
            class="com.sg.business.visualization.data.OrganizationProjectSetFolder"
            collection="dummy"
            db="pm2">
      </doc>
      <doc
            class="com.sg.business.visualization.data.TypeProjectSetFolder"
            collection="dummy"
            db="pm2">
      </doc>
      <doc
            class="com.sg.business.visualization.data.OwnerProjectSetFolder"
            collection="dummy"
            db="pm2">
      </doc>
   </extension>
   <extension
         point="com.sg.widgets.navigator">
      <navigator
            id="project.designateinvestment"
            table="project.designateinvestment">
      </navigator>
      <navigator
            id="project.allocatedinvestment"
            table="project.allocatedinvestment">
      </navigator>
      <navigator
            id="project.revenue"
            table="project.revenue">
      </navigator>
   </extension>
   <extension
         point="com.sg.widgets.table">
      <table
            dataSet="com.sg.business.visualization.data.ProjectDesignateInvestment"
            fix="4"
            id="project.designateinvestment"
            preload="40"
            useHashlookup="true"
            virtual="true">
         <column
               column="workorder"
               name="工作令号"
               type="String">
         </column>
         <column
               column="year"
               name="年"
               type="Integer"
               width="40">
         </column>
         <column
               column="month"
               name="月"
               type="Integer"
               width="40">
         </column>
         <column
               column="summ"
               name="合计"
               type="Double">
         </column>
         <columnGroup
               defaultGroup="false"
               id="明细"
               name="明细">
            <column
                  column="8002030000"
                  name="福利费-福利物资"
                  type="Double">
            </column>
            <column
                  column="8002060000"
                  name="福利费-中餐补贴"
                  type="Double">
            </column>
            <column
                  column="8002080000"
                  name="福利费-健康体检费"
                  type="Double">
            </column>
            <column
                  column="8002100000"
                  name="福利费-员工安家费"
                  type="Double">
            </column>
            <column
                  column="8002110000"
                  name="福利费-探亲费"
                  type="Double">
            </column>
            <column
                  column="8002120000"
                  name="福利费-其他"
                  type="Double">
            </column>
            <column
                  column="8005010000"
                  name="外部用工劳务费"
                  type="Double">
            </column>
            <column
                  column="8006010000"
                  name="经济补偿金"
                  type="Double">
            </column>
            <column
                  column="8007010000"
                  name="工会经费"
                  type="Double">
            </column>
            <column
                  column="8008010000"
                  name="职工教育经费"
                  type="Double">
            </column>
            <column
                  column="8009010000"
                  name="社会保险费-基本养老保险"
                  type="Double">
            </column>
            <column
                  column="8009030000"
                  name="社会保险费-基本医疗保险"
                  type="Double">
            </column>
            <column
                  column="8009040000"
                  name="社会保险费-失业保险"
                  type="Double">
            </column>
            <column
                  column="8009050000"
                  name="社会保险费-工伤保险"
                  type="Double">
            </column>
            <column
                  column="8009060000"
                  name="社会保险费-生育保险"
                  type="Double">
            </column>
            <column
                  column="8009070000"
                  name="住房公积金"
                  type="Double">
            </column>
            <column
                  column="8010010000"
                  name="折旧费-机器及设备"
                  type="Double">
            </column>
            <column
                  column="8010020000"
                  name="折旧费-其他"
                  type="Double">
            </column>
            <column
                  column="8010030000"
                  name="折旧费-手工记账"
                  type="Double">
            </column>
            <column
                  column="8011010000"
                  name="无形资产摊销"
                  type="Double">
            </column>
            <column
                  column="8012010000"
                  name="劳动保护费-防寒防暑用品费"
                  type="Double">
            </column>
            <column
                  column="8012020000"
                  name="劳动保护费-劳保用品"
                  type="Double">
            </column>
            <column
                  column="8012050000"
                  name="劳动保护费-其他"
                  type="Double">
            </column>
            <column
                  column="8013020000"
                  name="税金-土地使用税"
                  type="Double">
            </column>
            <column
                  column="8013030000"
                  name="税金-房产税"
                  type="Double">
            </column>
            <column
                  column="8014020000"
                  name="水电动力费-水"
                  type="Double">
            </column>
            <column
                  column="8014030000"
                  name="水电动力费-电"
                  type="Double">
            </column>
            <column
                  column="8014040000"
                  name="水电动力费-天然气"
                  type="Double">
            </column>
            <column
                  column="8015010000"
                  name="通讯费-移动电话"
                  type="Double">
            </column>
            <column
                  column="8015020000"
                  name="通讯费-单位电话"
                  type="Double">
            </column>
            <column
                  column="8016010000"
                  name="交通费-公务交通费"
                  type="Double">
            </column>
            <column
                  column="8016020000"
                  name="交通费-车辆使用费"
                  type="Double">
            </column>
            <column
                  column="8016030000"
                  name="交通费-请车费用"
                  type="Double">
            </column>
            <column
                  column="8016040000"
                  name="交通费-市内交通费用"
                  type="Double">
            </column>
            <column
                  column="8017010000"
                  name="物料消耗-包装物"
                  type="Double">
            </column>
            <column
                  column="8017090000"
                  name="物料消耗-其他"
                  type="Double">
            </column>
            <column
                  column="8018010000"
                  name="设备维保费-公共设施维修"
                  type="Double">
            </column>
            <column
                  column="8018020000"
                  name="设备维保费-设备维修"
                  type="Double">
            </column>
            <column
                  column="8018990000"
                  name="设备维保费-其他"
                  type="Double">
            </column>
            <column
                  column="8019010000"
                  name="办公费-打字印刷费"
                  type="Double">
            </column>
            <column
                  column="8019020000"
                  name="办公费-饮水咖啡费"
                  type="Double">
            </column>
            <column
                  column="8019030000"
                  name="办公费-办公用品"
                  type="Double">
            </column>
            <column
                  column="8019040000"
                  name="办公费-其他"
                  type="Double">
            </column>
            <column
                  column="8020030000"
                  name="图书资料费-图书资料"
                  type="Double">
            </column>
            <column
                  column="8021010000"
                  name="业务招待费"
                  type="Double">
            </column>
            <column
                  column="8022010000"
                  name="差旅费-国内"
                  type="Double">
            </column>
            <column
                  column="8022020000"
                  name="差旅费-国外"
                  type="Double">
            </column>
            <column
                  column="8023010000"
                  name="会议费"
                  type="Double">
            </column>
            <column
                  column="8024010000"
                  name="运输费"
                  type="Double">
            </column>
            <column
                  column="8024020000"
                  name="装卸费"
                  type="Double">
            </column>
            <column
                  column="8025010000"
                  name="邮寄快递费"
                  type="Double">
            </column>
            <column
                  column="8027010000"
                  name="租赁费"
                  type="Double">
            </column>
            <column
                  column="8029010000"
                  name="外协加工费"
                  type="Double">
            </column>
            <column
                  column="8030010000"
                  name="技术服务费"
                  type="Double">
            </column>
            <column
                  column="8031010000"
                  name="鉴定评审费"
                  type="Double">
            </column>
            <column
                  column="8032010000"
                  name="试验检验费"
                  type="Double">
            </column>
            <column
                  column="8033010000"
                  name="低值易耗品摊销"
                  type="Double">
            </column>
            <column
                  column="8034010000"
                  name="招投标费"
                  type="Double">
            </column>
            <column
                  column="8038020000"
                  name="保险费-资产保费"
                  type="Double">
            </column>
            <column
                  column="8038030000"
                  name="保险费-人身保费"
                  type="Double">
            </column>
            <column
                  column="8038050000"
                  name="保险费-其他"
                  type="Double">
            </column>
            <column
                  column="8039010000"
                  name="物业管理费"
                  type="Double">
            </column>
            <column
                  column="8040010000"
                  name="翻译费"
                  type="Double">
            </column>
            <column
                  column="8044010000"
                  name="评估费"
                  type="Double">
            </column>
            <column
                  column="8045010000"
                  name="诉讼费"
                  type="Double">
            </column>
            <column
                  column="8046010000"
                  name="咨询费"
                  type="Double">
            </column>
            <column
                  column="8047010000"
                  name="招聘费"
                  type="Double">
            </column>
            <column
                  column="8048010000"
                  name="协会会费"
                  type="Double">
            </column>
            <column
                  column="8049010000"
                  name="排污费"
                  type="Double">
            </column>
            <column
                  column="8050010000"
                  name="绿化费"
                  type="Double">
            </column>
            <column
                  column="8052010000"
                  name="质量费-质量预防鉴定费"
                  type="Double">
            </column>
            <column
                  column="8054010000"
                  name="党群工作费"
                  type="Double">
            </column>
            <column
                  column="8055010000"
                  name="展览费-国内展览"
                  type="Double">
            </column>
            <column
                  column="8058010000"
                  name="宣传费"
                  type="Double">
            </column>
            <column
                  column="8060010000"
                  name="商检费"
                  type="Double">
            </column>
            <column
                  column="8061010000"
                  name="仓储费"
                  type="Double">
            </column>
            <column
                  column="8070010000"
                  name="三包服务费"
                  type="Double">
            </column>
            <column
                  column="8072010000"
                  name="费用分配分摊转移"
                  type="Double">
            </column>
            <column
                  column="8082010000"
                  name="安全措施费"
                  type="Double">
            </column>
            <column
                  column="8083010000"
                  name="环保卫生费"
                  type="Double">
            </column>
            <column
                  column="8099990000"
                  name="其他"
                  type="Double">
            </column>
            <column
                  column="8017050000"
                  name="物料消耗-原材料"
                  type="Double">
            </column>
            <column
                  column="8017060000"
                  name="物料消耗-半成品"
                  type="Double">
            </column>
            <column
                  column="8017070000"
                  name="物料消耗-成品"
                  type="Double">
            </column>
         </columnGroup>
      </table>
      <table
            dataSet="com.sg.business.visualization.data.ProjectAllocatedInvestment"
            fix="3"
            id="project.allocatedinvestment"
            preload="40"
            useHashlookup="true"
            virtual="true">
         <column
               column="year"
               name="年"
               type="Integer"
               width="40">
         </column>
         <column
               column="month"
               name="月"
               type="Integer"
               width="40">
         </column>
         <column
               column="summ"
               labelProvider="com.sg.business.visualization.labelprovider.CostSummary"
               name="合计"
               type="Double">
         </column>
         <columnGroup
               defaultGroup="false"
               id="明细"
               name="明细">
            <column
                  column="8002030000"
                  name="福利费-福利物资"
                  type="Double">
            </column>
            <column
                  column="8002060000"
                  name="福利费-中餐补贴"
                  type="Double">
            </column>
            <column
                  column="8002080000"
                  name="福利费-健康体检费"
                  type="Double">
            </column>
            <column
                  column="8002100000"
                  name="福利费-员工安家费"
                  type="Double">
            </column>
            <column
                  column="8002110000"
                  name="福利费-探亲费"
                  type="Double">
            </column>
            <column
                  column="8002120000"
                  name="福利费-其他"
                  type="Double">
            </column>
            <column
                  column="8005010000"
                  name="外部用工劳务费"
                  type="Double">
            </column>
            <column
                  column="8006010000"
                  name="经济补偿金"
                  type="Double">
            </column>
            <column
                  column="8007010000"
                  name="工会经费"
                  type="Double">
            </column>
            <column
                  column="8008010000"
                  name="职工教育经费"
                  type="Double">
            </column>
            <column
                  column="8009010000"
                  name="社会保险费-基本养老保险"
                  type="Double">
            </column>
            <column
                  column="8009030000"
                  name="社会保险费-基本医疗保险"
                  type="Double">
            </column>
            <column
                  column="8009040000"
                  name="社会保险费-失业保险"
                  type="Double">
            </column>
            <column
                  column="8009050000"
                  name="社会保险费-工伤保险"
                  type="Double">
            </column>
            <column
                  column="8009060000"
                  name="社会保险费-生育保险"
                  type="Double">
            </column>
            <column
                  column="8009070000"
                  name="住房公积金"
                  type="Double">
            </column>
            <column
                  column="8010010000"
                  name="折旧费-机器及设备"
                  type="Double">
            </column>
            <column
                  column="8010020000"
                  name="折旧费-其他"
                  type="Double">
            </column>
            <column
                  column="8010030000"
                  name="折旧费-手工记账"
                  type="Double">
            </column>
            <column
                  column="8011010000"
                  name="无形资产摊销"
                  type="Double">
            </column>
            <column
                  column="8012010000"
                  name="劳动保护费-防寒防暑用品费"
                  type="Double">
            </column>
            <column
                  column="8012020000"
                  name="劳动保护费-劳保用品"
                  type="Double">
            </column>
            <column
                  column="8012050000"
                  name="劳动保护费-其他"
                  type="Double">
            </column>
            <column
                  column="8013020000"
                  name="税金-土地使用税"
                  type="Double">
            </column>
            <column
                  column="8013030000"
                  name="税金-房产税"
                  type="Double">
            </column>
            <column
                  column="8014020000"
                  name="水电动力费-水"
                  type="Double">
            </column>
            <column
                  column="8014030000"
                  name="水电动力费-电"
                  type="Double">
            </column>
            <column
                  column="8014040000"
                  name="水电动力费-天然气"
                  type="Double">
            </column>
            <column
                  column="8015010000"
                  name="通讯费-移动电话"
                  type="Double">
            </column>
            <column
                  column="8015020000"
                  name="通讯费-单位电话"
                  type="Double">
            </column>
            <column
                  column="8016010000"
                  name="交通费-公务交通费"
                  type="Double">
            </column>
            <column
                  column="8016020000"
                  name="交通费-车辆使用费"
                  type="Double">
            </column>
            <column
                  column="8016030000"
                  name="交通费-请车费用"
                  type="Double">
            </column>
            <column
                  column="8016040000"
                  name="交通费-市内交通费用"
                  type="Double">
            </column>
            <column
                  column="8017010000"
                  name="物料消耗-包装物"
                  type="Double">
            </column>
            <column
                  column="8017090000"
                  name="物料消耗-其他"
                  type="Double">
            </column>
            <column
                  column="8018010000"
                  name="设备维保费-公共设施维修"
                  type="Double">
            </column>
            <column
                  column="8018020000"
                  name="设备维保费-设备维修"
                  type="Double">
            </column>
            <column
                  column="8018990000"
                  name="设备维保费-其他"
                  type="Double">
            </column>
            <column
                  column="8019010000"
                  name="办公费-打字印刷费"
                  type="Double">
            </column>
            <column
                  column="8019020000"
                  name="办公费-饮水咖啡费"
                  type="Double">
            </column>
            <column
                  column="8019030000"
                  name="办公费-办公用品"
                  type="Double">
            </column>
            <column
                  column="8019040000"
                  name="办公费-其他"
                  type="Double">
            </column>
            <column
                  column="8020030000"
                  name="图书资料费-图书资料"
                  type="Double">
            </column>
            <column
                  column="8021010000"
                  name="业务招待费"
                  type="Double">
            </column>
            <column
                  column="8022010000"
                  name="差旅费-国内"
                  type="Double">
            </column>
            <column
                  column="8022020000"
                  name="差旅费-国外"
                  type="Double">
            </column>
            <column
                  column="8023010000"
                  name="会议费"
                  type="Double">
            </column>
            <column
                  column="8024010000"
                  name="运输费"
                  type="Double">
            </column>
            <column
                  column="8024020000"
                  name="装卸费"
                  type="Double">
            </column>
            <column
                  column="8025010000"
                  name="邮寄快递费"
                  type="Double">
            </column>
            <column
                  column="8027010000"
                  name="租赁费"
                  type="Double">
            </column>
            <column
                  column="8029010000"
                  name="外协加工费"
                  type="Double">
            </column>
            <column
                  column="8030010000"
                  name="技术服务费"
                  type="Double">
            </column>
            <column
                  column="8031010000"
                  name="鉴定评审费"
                  type="Double">
            </column>
            <column
                  column="8032010000"
                  name="试验检验费"
                  type="Double">
            </column>
            <column
                  column="8033010000"
                  name="低值易耗品摊销"
                  type="Double">
            </column>
            <column
                  column="8034010000"
                  name="招投标费"
                  type="Double">
            </column>
            <column
                  column="8038020000"
                  name="保险费-资产保费"
                  type="Double">
            </column>
            <column
                  column="8038030000"
                  name="保险费-人身保费"
                  type="Double">
            </column>
            <column
                  column="8038050000"
                  name="保险费-其他"
                  type="Double">
            </column>
            <column
                  column="8039010000"
                  name="物业管理费"
                  type="Double">
            </column>
            <column
                  column="8040010000"
                  name="翻译费"
                  type="Double">
            </column>
            <column
                  column="8044010000"
                  name="评估费"
                  type="Double">
            </column>
            <column
                  column="8045010000"
                  name="诉讼费"
                  type="Double">
            </column>
            <column
                  column="8046010000"
                  name="咨询费"
                  type="Double">
            </column>
            <column
                  column="8047010000"
                  name="招聘费"
                  type="Double">
            </column>
            <column
                  column="8048010000"
                  name="协会会费"
                  type="Double">
            </column>
            <column
                  column="8049010000"
                  name="排污费"
                  type="Double">
            </column>
            <column
                  column="8050010000"
                  name="绿化费"
                  type="Double">
            </column>
            <column
                  column="8052010000"
                  name="质量费-质量预防鉴定费"
                  type="Double">
            </column>
            <column
                  column="8054010000"
                  name="党群工作费"
                  type="Double">
            </column>
            <column
                  column="8055010000"
                  name="展览费-国内展览"
                  type="Double">
            </column>
            <column
                  column="8058010000"
                  name="宣传费"
                  type="Double">
            </column>
            <column
                  column="8060010000"
                  name="商检费"
                  type="Double">
            </column>
            <column
                  column="8061010000"
                  name="仓储费"
                  type="Double">
            </column>
            <column
                  column="8070010000"
                  name="三包服务费"
                  type="Double">
            </column>
            <column
                  column="8072010000"
                  name="费用分配分摊转移"
                  type="Double">
            </column>
            <column
                  column="8082010000"
                  name="安全措施费"
                  type="Double">
            </column>
            <column
                  column="8083010000"
                  name="环保卫生费"
                  type="Double">
            </column>
            <column
                  column="8099990000"
                  name="其他"
                  type="Double">
            </column>
            <column
                  column="8017050000"
                  name="物料消耗-原材料"
                  type="Double">
            </column>
            <column
                  column="8017060000"
                  name="物料消耗-半成品"
                  type="Double">
            </column>
            <column
                  column="8017070000"
                  name="物料消耗-成品"
                  type="Double">
            </column>
         </columnGroup>
      </table>
      <table
            dataSet="com.sg.business.visualization.data.ProjectRevenue"
            fix="4"
            id="project.revenue"
            preload="40"
            useHashlookup="true"
            virtual="true">
         <column
               column="GJAHR"
               name="年"
               type="String"
               width="40">
         </column>
         <column
               column="PERDE"
               name="期间"
               type="String"
               width="40">
         </column>
         <column
               column="MATNR"
               name="产品"
               type="String">
         </column>
         <column
               column="VV010"
               name="销售收入"
               type="Double">
         </column>
         <column
               column="VV030"
               name="销售成本"
               type="Double">
         </column>
         <column
               column="VV040"
               name="差异分摊"
               type="Double">
         </column>
         <column
               column="KNDNR"
               name="客户号"
               type="String">
         </column>
      </table>
   </extension>

</plugin>
