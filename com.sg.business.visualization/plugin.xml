<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <category
            id="visualization"
            name="可视化">
      </category>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.ProjectSetNavigator"
            id="vis.projectset.navigator"
            name="%view.name"
            restorable="true">
      </view>

   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DetailMain"
            id="vis.main"
            name="%view.name.0"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashMainIndicators"
            id="vis.main.indicators"
            name="%view.name.1"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashBudgetAndCost"
            id="vis.eco.budgetandcost"
            name="%view.name.2"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashEcoRevenue"
            id="vis.eco.revenue"
            name="%view.name.3"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashSchedualRisk"
            id="vis.risk.schedual"
            name="%view.name.4"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashCostRisk"
            id="vis.risk.cost"
            name="%view.name.5"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.DashDepartment"
            id="vis.dept.main"
            name="%view.name.6"
            restorable="true">
      </view>
   </extension>
   <extension
         point="com.sg.widgets.navigator">
      <navigator
            id="vis.projectset.navigator"
            tree="vis.projectset.navigator">
         <filterAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
            <column
                  columnDefinitionId="account.userid">
            </column>
            <column
                  columnDefinitionId="account.username">
            </column>
         </filterAction>
         <searchAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
            <column
                  columnDefinitionId="account.userid">
            </column>
            <column
                  columnDefinitionId="account.username">
            </column>
         </searchAction>
      </navigator>
      <navigator
            id="vis.projectset"
            provideSelection="true"
            table="vis.projectset">
         <!--filterAction>
            <column
                  columnDefinitionId="project.desc">
            </column>
            <column
                  columnDefinitionId="project.workorder">
            </column>
            <column
                  columnDefinitionId="planfinish">
            </column>
            <column
                  columnDefinitionId="project.launchorg_id">
            </column>
            <column
                  columnDefinitionId="chargerid">
            </column>
            <column
                  column="status"
                  name=" 状态"
                  type="String">
            </column>
         </filterAction>
         <searchAction>
            <column
                  columnDefinitionId="project.desc">
            </column>
            <column
                  columnDefinitionId="project.workorder">
            </column>
            <column
                  columnDefinitionId="project.launchorg_id">
            </column>
            <column
                  columnDefinitionId="chargerid">
            </column>
         </searchAction-->
      </navigator>
      <navigator
            id="vis.projectset.schedual"
            provideSelection="true"
            table="vis.projectset.schedual">
      </navigator>
      <navigator
            id="vis.projectset.budgetandinvestment"
            provideSelection="true"
            table="vis.projectset.budgetandinvestment">
      </navigator>
      <navigator
            id="vis.projectset.revenue"
            provideSelection="true"
            table="vis.projectset.revenue">
      </navigator>
      <navigator
            id="vis.org.selector.managerrole"
            provideSelection="false"
            tree="vis.org.selector.managerrole">
         <filterAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
            <column
                  columnDefinitionId="organization.organizationType">
            </column>
            <column
                  columnDefinitionId="organization.isFunctionDepartment">
            </column>
            <column
                  columnDefinitionId="organization.isContainer">
            </column>
            <column
                  columnDefinitionId="organization.description">
            </column>
            <column
                  columnDefinitionId="organization.costCenterCode">
            </column>
         </filterAction>
         <searchAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
            <column
                  columnDefinitionId="organization.organizationType">
            </column>
            <column
                  columnDefinitionId="organization.isFunctionDepartment">
            </column>
            <column
                  columnDefinitionId="organization.isContainer">
            </column>
            <column
                  columnDefinitionId="organization.description">
            </column>
            <column
                  columnDefinitionId="organization.costCenterCode">
            </column>
         </searchAction>
      </navigator>
      <navigator
            id="vis.projectset.navigator.org"
            tree="vis.projectset.navigator.org">
         <filterAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
         </filterAction>
         <searchAction>
            <column
                  columnDefinitionId="com.sg.widgets.column.desc">
            </column>
         </searchAction>
      </navigator>
      <navigator
            id="vis.projectset.costdetail"
            table="vis.projectset.costdetail">
      </navigator>
   </extension>
   <extension
         point="com.sg.widgets.tree">
      <tree
            autoExpandLevel="2"
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="organization"
            contentProvider="com.sg.business.visualization.data.ProjectSetContentProvider"
            customItemHeight="40"
            dataSet="com.sg.business.visualization.data.VisNavigatorDataSet"
            dbName="pm2"
            deleteDelegator="com.sg.business.visualization.delegator.UserProjectPerfDel"
            dropTargetListener="com.sg.business.visualization.view.DropProjectToOwnerSet"
            headerVisiable="false"
            id="vis.projectset.navigator"
            idfield="_id"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="false"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.ProjectSetNavigatorLabelProvider"
               name="%column.name"
               style="SWT.LEFT"
               type="String"
               width="-1">
         </column>
         <structure
               modelRelation="organization_organization">
         </structure>
         <structure
               modelRelation="organization_projectmanager">
         </structure>
      </tree>
      <tree
            autoExpandLevel="2"
            dataSet="com.sg.business.model.dataset.organization.OrgRootOfManagerRole"
            hasCheck="true"
            headerVisiable="false"
            id="vis.org.selector.managerrole"
            lineVisiable="false">
         <column
               columnDefinitionId="com.sg.widgets.column.desc">
         </column>
         <structure
               modelRelation="organization_organization">
         </structure>
      </tree>
      <tree
            autoExpandLevel="2"
            canCreate="false"
            canDelete="false"
            canEdit="false"
            canRead="false"
            collectionName="organization"
            contentProvider="com.sg.business.visualization.data.ProjectSetContentProvider"
            dataSet="com.sg.business.model.dataset.organization.OrgOfOwnerManager"
            dbName="pm2"
            headerVisiable="false"
            id="vis.projectset.navigator.org"
            idfield="_id"
            lineVisiable="false"
            multiSelection="false"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.widgets.commons.labelprovider.PrimaryObjectLabelProvider"
               name="%column.name.0"
               style="SWT.LEFT"
               type="String"
               width="-1">
         </column>
         <structure
               modelRelation="organization_organization">
         </structure>
      </tree>
   </extension>
   <extension
         point="com.sg.widgets.table">
      <table
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="project"
            customItemHeight="60"
            dataSet="com.sg.business.model.dataset.visualization.VisProjectSet"
            dbName="pm2"
            dragSourceListener="com.sg.widgets.commons.dnd.DragPrimaryObjectSource"
            fix="1"
            headerVisiable="true"
            id="vis.projectset"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.DescLabelProvider"
               lazyDisplay="true"
               name="%column.name.1"
               type="String"
               width="320">
         </column>
         <column
               column="planfinish"
               labelProvider="com.sg.business.visualization.labelprovider.SchedualLabelProvider"
               lazyDisplay="true"
               name="%column.name.2"
               type="Date"
               width="200">
         </column>
         <column
               column="rndcost"
               labelProvider="com.sg.business.visualization.labelprovider.BudgetAndInvestmentLabelProvider"
               lazyDisplay="true"
               name="%column.name.3"
               type="String"
               width="200">
         </column>
         <column
               column="revenue"
               labelProvider="com.sg.business.visualization.labelprovider.RevenueLabelProvider"
               lazyDisplay="true"
               name="%column.name.4"
               type="String"
               width="200">
         </column>
      </table>
      <table
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="project"
            customItemHeight="60"
            dataSet="com.sg.business.model.dataset.visualization.VisProjectSet"
            dbName="pm2"
            dragSourceListener="com.sg.widgets.commons.dnd.DragPrimaryObjectSource"
            fix="1"
            headerVisiable="true"
            id="vis.projectset.schedual"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.DescLabelProvider"
               lazyDisplay="true"
               name="%column.name.5"
               type="String"
               width="320">
         </column>
         <column
               column="planfinish"
               labelProvider="com.sg.business.visualization.labelprovider.SchedualLabelProvider"
               lazyDisplay="true"
               name="%column.name.6"
               type="Date"
               width="200">
         </column>
         <column
               column="status"
               labelProvider="com.sg.business.visualization.labelprovider.SchedualDetailLabelProvider"
               lazyDisplay="true"
               name="%column.name.7"
               type="String"
               width="160">
         </column>
      </table>
      <table
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="project"
            customItemHeight="60"
            dataSet="com.sg.business.model.dataset.visualization.VisProjectSet"
            dbName="pm2"
            dragSourceListener="com.sg.widgets.commons.dnd.DragPrimaryObjectSource"
            fix="1"
            headerVisiable="true"
            id="vis.projectset.budgetandinvestment"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.DescLabelProvider"
               lazyDisplay="true"
               name="%column.name.8"
               type="String"
               width="320">
         </column>
         <column
               column="rndcost"
               labelProvider="com.sg.business.visualization.labelprovider.BudgetAndInvestmentLabelProvider"
               lazyDisplay="true"
               name="%column.name.9"
               type="String"
               width="200">
         </column>
         <column
               column="col1"
               labelProvider="com.sg.business.visualization.labelprovider.BudgetLabelProvider"
               lazyDisplay="true"
               name="%column.name.10"
               type="String"
               width="60">
         </column>
         <column
               column="col2"
               labelProvider="com.sg.business.visualization.labelprovider.InvestmentLabelProvider"
               lazyDisplay="true"
               name="%column.name.11"
               type="String"
               width="60">
         </column>
         <column
               column="col3"
               labelProvider="com.sg.business.visualization.labelprovider.InvestmentLabelProvider2"
               lazyDisplay="true"
               name="%column.name.12"
               type="String"
               width="60">
         </column>
         <column
               column="col4"
               labelProvider="com.sg.business.visualization.labelprovider.OvercostCostLabelProvider"
               lazyDisplay="true"
               name="%column.name.13"
               type="String"
               width="60">
         </column>
      </table>
      <table
            canCreate="false"
            canDelete="true"
            canEdit="false"
            canRead="false"
            collectionName="project"
            customItemHeight="60"
            dataSet="com.sg.business.model.dataset.visualization.VisProjectSet"
            dbName="pm2"
            dragSourceListener="com.sg.widgets.commons.dnd.DragPrimaryObjectSource"
            fix="1"
            headerVisiable="true"
            id="vis.projectset.revenue"
            lineVisiable="false"
            markupEnabled="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               labelProvider="com.sg.business.visualization.labelprovider.DescLabelProvider"
               lazyDisplay="true"
               name="%column.name.14"
               type="String"
               width="320">
         </column>
         <column
               column="revenue"
               labelProvider="com.sg.business.visualization.labelprovider.RevenueLabelProvider"
               lazyDisplay="true"
               name="%column.name.15"
               type="String"
               width="200">
         </column>
         <column
               column="d1"
               labelProvider="com.sg.business.visualization.labelprovider.RevenueDetailLabelProvider"
               lazyDisplay="true"
               name="%column.name.16"
               type="String"
               width="60">
         </column>
         <column
               column="budget"
               labelProvider="com.sg.business.visualization.labelprovider.InvestmentLabelProvider"
               lazyDisplay="true"
               name="%column.name.17"
               type="String"
               width="60">
         </column>
         <column
               column="d2"
               labelProvider="com.sg.business.visualization.labelprovider.SalesCostDetailLabelProvider"
               lazyDisplay="true"
               name="%column.name.18"
               type="String"
               width="60">
         </column>
         <column
               column="d3"
               labelProvider="com.sg.business.visualization.labelprovider.ProfitDetailLabelProvider"
               lazyDisplay="true"
               name="%column.name.19"
               type="String"
               width="60">
         </column>
      </table>
      <table
            headerVisiable="true"
            id="vis.projectset.costdetail"
            lineVisiable="true"
            multiSelection="true"
            preload="20"
            useHashlookup="true"
            virtual="true">
         <column
               column="desc"
               name="%column.name.20">
         </column>
         <column
               column="desc"
               name="%column.name.21">
         </column>
      </table>
   </extension>
   <extension
         point="com.sg.widgets.dataEditor">
      <editor
            collectionName="projectprovider"
            dbName="pm2"
            id="editor.visualization.projectset"
            name="%editor.name">
         <navigatorpage
               id="projectset.info"
               navigatorId="vis.projectset"
               pageBodyPartCreater="com.sg.business.visualization.editor.projectset.ProjectSetContent"
               title="%navigatorpage.title">
         </navigatorpage>
         <navigatorpage
               id="projectset.schedual"
               navigatorId="vis.projectset.schedual"
               pageBodyPartCreater="com.sg.business.visualization.editor.projectset.ProjectSetDashboardSchedual"
               title="%navigatorpage.title.0">
         </navigatorpage>
         <navigatorpage
               id="projectset.budgetandinvestment"
               navigatorId="vis.projectset.budgetandinvestment"
               pageBodyPartCreater="com.sg.business.visualization.editor.projectset.ProjectSetDashboardBudInv"
               title="%navigatorpage.title.1">
         </navigatorpage>
         <navigatorpage
               id="projectset.revenue"
               navigatorId="vis.projectset.revenue"
               pageBodyPartCreater="com.sg.business.visualization.editor.projectset.ProjectSetDashboardRevenue"
               title="%navigatorpage.title.2">
         </navigatorpage>
      </editor>
      <editor
            collectionName="userprojectperf"
            dbName="pm2"
            id="editor.visualization.addprojectset"
            name="%editor.name.0">
         <basicpage
               id="项目组合"
               title="%basicpage.title">
            <pagecolumn>
               <section
                     label="%section.label">
                  <combo
                        editPart="Combo"
                        editable="true"
                        id="desc"
                        inputValidator="com.sg.business.visualization.validator.ProjectSetValidator"
                        label="%combo.label"
                        labelVisible="true"
                        name="desc"
                        optionProvider="com.sg.business.visualization.option.ProjectSetOption"
                        persistable="true"
                        required="false"
                        type="String">
                  </combo>
               </section>
            </pagecolumn>
         </basicpage>
      </editor>
      <editor
            collectionName="project"
            dbName="pm2"
            id="editor.visualization.project"
            isDefault="true"
            memo="查看项目"
            name="%editor.name.1">
         <basicpage
               description="%basicpage.description"
               id="project.basicpage"
               image="image/project_24.png"
               title="%basicpage.title.0">
            <pagecolumn>
               <section
                     label="%section.label.0">
                  <fieldgroup
                        columnCount="2"
                        makeColumnWidthEqual="false">
                     <text
                           editPart="Text(Single Line)"
                           editable="false"
                           id="projectnumber"
                           label="%text.label"
                           labelVisible="true"
                           name="projectnumber"
                           persistable="false"
                           required="false"
                           type="String">
                     </text>
                     <combo
                           editPart="Combo(Read Only)"
                           editable="false"
                           id="status"
                           label="%combo.label.0"
                           labelVisible="false"
                           name="status"
                           option="status"
                           persistable="true"
                           required="false"
                           type="String">
                     </combo>
                  </fieldgroup>
                  <text
                        editPart="Text(Single Line)"
                        editable="true"
                        id="desc"
                        label="%text.label.0"
                        labelVisible="true"
                        name="desc"
                        persistable="true"
                        required="false"
                        type="String">
                  </text>
                  <text
                        editPart="Text(Multi Line)"
                        editable="true"
                        id="description"
                        label="%text.label.1"
                        labelVisible="true"
                        name="description"
                        persistable="true"
                        required="false"
                        type="String">
                  </text>
               </section>
               <section
                     label="%section.label.1">
                  <text
                        editPart="Text(Single Line)"
                        editable="false"
                        id="chargerid"
                        label="%text.label.2"
                        labelVisible="true"
                        name="chargerid"
                        persistable="false"
                        presentation="com.sg.business.commons.field.presentation.UserIdFieldPres"
                        required="false"
                        type="String">
                  </text>
                  <text
                        editPart="Text(Single Line)"
                        editable="false"
                        id="org_id"
                        label="%text.label.3"
                        labelVisible="true"
                        name="org_id"
                        persistable="true"
                        presentation="com.sg.business.commons.field.presentation.OrgFieldPres"
                        required="false"
                        type="String">
                  </text>
                  <list
                        addTableItemHandler="com.sg.business.commons.field.action.AddOrganization"
                        editable="false"
                        heightHint="108"
                        id="launchorg_id"
                        label="%list.label"
                        labelVisible="true"
                        labelprovider="com.sg.business.commons.labelprovider.OrgLabelProvidder"
                        name="launchorg_id"
                        persistable="true">
                  </list>
               </section>
            </pagecolumn>
            <pagecolumn>
               <section
                     label="%section.label.2">
                  <dateTime
                        editPart="DateDialog"
                        editableHandler="com.sg.business.commons.field.editable.ProjectFieldEditableControl"
                        id="planstart"
                        label="%dateTime.label"
                        labelVisible="true"
                        name="planstart"
                        persistable="true"
                        required="false"
                        type="Date">
                  </dateTime>
                  <dateTime
                        editPart="DateDialog"
                        editable="true"
                        editableHandler="com.sg.business.commons.field.editable.ProjectFieldEditableControl"
                        id="planfinish"
                        label="%dateTime.label.0"
                        labelVisible="true"
                        name="planfinish"
                        persistable="true"
                        required="false"
                        type="Date">
                  </dateTime>
                  <fieldgroup
                        columnCount="2">
                     <spinner
                           editable="false"
                           id="planduration"
                           label="%spinner.label"
                           labelVisible="true"
                           name="planduration"
                           persistable="true"
                           required="false"
                           spinnerSetting="0,999999,1,100">
                     </spinner>
                     <text
                           editPart="Text(Single Line)"
                           editable="true"
                           editableHandler="com.sg.business.commons.field.editable.ProjectFieldEditableControl"
                           id="planworks"
                           label="%text.label.4"
                           labelVisible="true"
                           name="planworks"
                           persistable="true"
                           required="false"
                           type="Double">
                     </text>
                  </fieldgroup>
               </section>
               <section
                     label="%section.label.3">
                  <dateTime
                        editPart="DateDialog"
                        editable="false"
                        id="actualstart"
                        label="%dateTime.label.1"
                        labelVisible="true"
                        name="actualstart"
                        persistable="true"
                        required="false"
                        type="Date">
                  </dateTime>
                  <dateTime
                        editPart="DateDialog"
                        editable="false"
                        id="actualfinish"
                        label="%dateTime.label.2"
                        labelVisible="true"
                        name="actualfinish"
                        persistable="true"
                        required="false"
                        type="Date">
                  </dateTime>
                  <fieldgroup
                        columnCount="2">
                     <spinner
                           editable="false"
                           id="actualduration"
                           label="%spinner.label.0"
                           labelVisible="true"
                           name="actualduration"
                           persistable="true"
                           required="false"
                           spinnerSetting="0,999999,1,100">
                     </spinner>
                     <text
                           editPart="Text(Single Line)"
                           editable="true"
                           id="actualworks"
                           label="%text.label.5"
                           labelVisible="true"
                           name="actualworks"
                           persistable="true"
                           required="false"
                           type="Double">
                     </text>
                  </fieldgroup>
               </section>
               <section
                     label="%section.label.4">
                  <list
                        editable="false"
                        heightHint="108"
                        id="workorder"
                        label="%list.label.0"
                        labelVisible="false"
                        name="workorder"
                        persistable="true"
                        required="false"
                        tooltips="%list.tooltips">
                  </list>
               </section>
            </pagecolumn>
         </basicpage>
         <navigatorpage
               createAfterSave="true"
               description="项目团队的各个角色和成员"
               id="project.team"
               image="image/group_24.png"
               navigatorId="project.team"
               pageBodyPartCreater="com.sg.business.project.wizards.ProjectTeamPage"
               title="%navigatorpage.title.3">
         </navigatorpage>
         <navigatorpage
               id="project.wbs"
               image="image/wbs_24.png"
               navigatorId="project.wbs"
               title="%navigatorpage.title.4">
         </navigatorpage>
         <basicpage
               description="%basicpage.description.0"
               id="project.financial"
               image="image/financial_24.png"
               pageDelegator="com.sg.business.commons.page.ProjectBudgetPage"
               title="%basicpage.title.1">
         </basicpage>
         <navigatorpage
               id="project.designateinvestment"
               image="image/currency_24.png"
               navigatorId="project.designateinvestment"
               pageBodyPartCreater="com.sg.business.visualization.editor.project.ProjectDashboardDesInv"
               title="%navigatorpage.title.5">
         </navigatorpage>
         <navigatorpage
               id="project.allocatedinvestment"
               image="image/currency_24.png"
               navigatorId="project.allocatedinvestment"
               pageBodyPartCreater="com.sg.business.visualization.editor.project.ProjectDashboardAllInv"
               title="%navigatorpage.title.6">
         </navigatorpage>
         <navigatorpage
               id="project.revenue"
               image="image/cash_24.png"
               navigatorId="project.revenue"
               pageBodyPartCreater="com.sg.business.visualization.editor.project.ProjectDashboardRevenue"
               title="%navigatorpage.title.7">
         </navigatorpage>
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:main?before=create">
         <command
               commandId="visualization.command.demo1"
               icon="image/preview_24.png"
               label="%command.label"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="perspective.system">
                  </equals>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="toolbar:main?after=common.separator">
         <command
               commandId="visualization.command.projectset"
               icon="image/project_add_set_24.png"
               label="%command.label.0"
               style="push"
               tooltip="%command.tooltip">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="perspective.visualization">
                  </equals>
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false">
                        <instanceof
                              value="com.sg.business.model.Project">
                        </instanceof>
                     </iterate>
                  </with>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="visualization.command.projectset.remove"
               icon="image/project_remove_set_24.png"
               label="%command.label.1"
               style="push"
               tooltip="%command.tooltip.0">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <equals
                        value="perspective.visualization">
                  </equals>
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false">
                        <instanceof
                              value="com.sg.business.model.Project">
                        </instanceof>
                     </iterate>
                  </with>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="visualization.command.setfilter"
               icon="image/cal2_24.png"
               label="%command.label.2"
               style="push"
               tooltip="%command.tooltip.1">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <or>
                     <equals
                           value="perspective.vis.home">
                     </equals>
                     <equals
                           value="perspective.vis2.home">
                     </equals>
                  </or>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="visualization.command.setdepartment"
               icon="image/org_24.png"
               label="%command.label.3"
               style="push"
               tooltip="%command.tooltip.2">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeWorkbenchWindow.activePerspective">
                  <or>
                     <equals
                           value="perspective.vis.home">
                     </equals>
                     <equals
                           value="perspective.vis2.home">
                     </equals>
                  </or>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="visualization.command.demo1"
            name="demo">
      </command>
      <command
            id="visualization.command.projectset"
            name="%command.name.0">
      </command>
      <command
            id="visualization.command.projectset.remove"
            name="%command.name.1">
      </command>
      <command
            id="visualization.command.setfilter"
            name="%command.name.2">
      </command>
      <command
            id="visualization.command.setdepartment"
            name="%command.name.3">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.sg.business.visualization.ui.CheckFlash"
            commandId="visualization.command.demo1">
      </handler>
      <handler
            class="com.sg.business.visualization.view.handler.ProjectSetAdd"
            commandId="visualization.command.projectset">
      </handler>
      <handler
            class="com.sg.business.visualization.view.handler.SetFilter"
            commandId="visualization.command.setfilter">
      </handler>
      <handler
            class="com.sg.business.visualization.view.handler.SetDepartmentFilter"
            commandId="visualization.command.setdepartment">
      </handler>
      <handler
            class="com.sg.business.visualization.view.handler.ProjectSetRemove"
            commandId="visualization.command.projectset.remove">
      </handler>
   </extension>
   <extension
         point="com.mobnut.db.documentModelAdapter">
      <doc
            class="com.sg.business.visualization.data.OrganizationProjectSetFolder"
            collection="dummy"
            db="pm2">
      </doc>
      <doc
            class="com.sg.business.visualization.data.TypeProjectSetFolder"
            collection="dummy"
            db="pm2">
      </doc>
      <doc
            class="com.sg.business.visualization.data.OwnerProjectSetFolder"
            collection="dummy"
            db="pm2">
      </doc>
   </extension>
   <extension
         point="com.sg.widgets.navigator">
      <navigator
            id="project.designateinvestment"
            table="project.designateinvestment">
      </navigator>
      <navigator
            id="project.allocatedinvestment"
            table="project.allocatedinvestment">
      </navigator>
      <navigator
            id="project.revenue"
            table="project.revenue">
      </navigator>
   </extension>
   <extension
         point="com.sg.widgets.table">
      <table
            dataSet="com.sg.business.visualization.data.ProjectDesignateInvestment"
            fix="4"
            id="project.designateinvestment"
            preload="40"
            useHashlookup="true"
            virtual="true">
         <column
               column="workorder"
               name="%column.name.22"
               type="String">
         </column>
         <column
               column="year"
               name="%column.name.23"
               type="Integer"
               width="40">
         </column>
         <column
               column="month"
               name="%column.name.24"
               type="Integer"
               width="40">
         </column>
         <column
               column="summ"
               name="%column.name.25"
               type="Double">
         </column>
         <columnGroup
               defaultGroup="false"
               id="明细"
               name="%columnGroup.name">
            <column
                  column="8002030000"
                  name="%column.name.26"
                  type="Double">
            </column>
            <column
                  column="8002060000"
                  name="%column.name.27"
                  type="Double">
            </column>
            <column
                  column="8002080000"
                  name="%column.name.28"
                  type="Double">
            </column>
            <column
                  column="8002100000"
                  name="%column.name.29"
                  type="Double">
            </column>
            <column
                  column="8002110000"
                  name="%column.name.30"
                  type="Double">
            </column>
            <column
                  column="8002120000"
                  name="%column.name.31"
                  type="Double">
            </column>
            <column
                  column="8005010000"
                  name="%column.name.32"
                  type="Double">
            </column>
            <column
                  column="8006010000"
                  name="%column.name.33"
                  type="Double">
            </column>
            <column
                  column="8007010000"
                  name="%column.name.34"
                  type="Double">
            </column>
            <column
                  column="8008010000"
                  name="%column.name.35"
                  type="Double">
            </column>
            <column
                  column="8009010000"
                  name="%column.name.36"
                  type="Double">
            </column>
            <column
                  column="8009030000"
                  name="%column.name.37"
                  type="Double">
            </column>
            <column
                  column="8009040000"
                  name="%column.name.38"
                  type="Double">
            </column>
            <column
                  column="8009050000"
                  name="%column.name.39"
                  type="Double">
            </column>
            <column
                  column="8009060000"
                  name="%column.name.40"
                  type="Double">
            </column>
            <column
                  column="8009070000"
                  name="%column.name.41"
                  type="Double">
            </column>
            <column
                  column="8010010000"
                  name="%column.name.42"
                  type="Double">
            </column>
            <column
                  column="8010020000"
                  name="%column.name.43"
                  type="Double">
            </column>
            <column
                  column="8010030000"
                  name="%column.name.44"
                  type="Double">
            </column>
            <column
                  column="8011010000"
                  name="%column.name.45"
                  type="Double">
            </column>
            <column
                  column="8012010000"
                  name="%column.name.46"
                  type="Double">
            </column>
            <column
                  column="8012020000"
                  name="%column.name.47"
                  type="Double">
            </column>
            <column
                  column="8012050000"
                  name="%column.name.48"
                  type="Double">
            </column>
            <column
                  column="8013020000"
                  name="%column.name.49"
                  type="Double">
            </column>
            <column
                  column="8013030000"
                  name="%column.name.50"
                  type="Double">
            </column>
            <column
                  column="8014020000"
                  name="%column.name.51"
                  type="Double">
            </column>
            <column
                  column="8014030000"
                  name="%column.name.52"
                  type="Double">
            </column>
            <column
                  column="8014040000"
                  name="%column.name.53"
                  type="Double">
            </column>
            <column
                  column="8015010000"
                  name="%column.name.54"
                  type="Double">
            </column>
            <column
                  column="8015020000"
                  name="%column.name.55"
                  type="Double">
            </column>
            <column
                  column="8016010000"
                  name="%column.name.56"
                  type="Double">
            </column>
            <column
                  column="8016020000"
                  name="%column.name.57"
                  type="Double">
            </column>
            <column
                  column="8016030000"
                  name="%column.name.58"
                  type="Double">
            </column>
            <column
                  column="8016040000"
                  name="%column.name.59"
                  type="Double">
            </column>
            <column
                  column="8017010000"
                  name="%column.name.60"
                  type="Double">
            </column>
            <column
                  column="8017090000"
                  name="%column.name.61"
                  type="Double">
            </column>
            <column
                  column="8018010000"
                  name="%column.name.62"
                  type="Double">
            </column>
            <column
                  column="8018020000"
                  name="%column.name.63"
                  type="Double">
            </column>
            <column
                  column="8018990000"
                  name="%column.name.64"
                  type="Double">
            </column>
            <column
                  column="8019010000"
                  name="%column.name.65"
                  type="Double">
            </column>
            <column
                  column="8019020000"
                  name="%column.name.66"
                  type="Double">
            </column>
            <column
                  column="8019030000"
                  name="%column.name.67"
                  type="Double">
            </column>
            <column
                  column="8019040000"
                  name="%column.name.68"
                  type="Double">
            </column>
            <column
                  column="8020030000"
                  name="%column.name.69"
                  type="Double">
            </column>
            <column
                  column="8021010000"
                  name="%column.name.70"
                  type="Double">
            </column>
            <column
                  column="8022010000"
                  name="%column.name.71"
                  type="Double">
            </column>
            <column
                  column="8022020000"
                  name="%column.name.72"
                  type="Double">
            </column>
            <column
                  column="8023010000"
                  name="%column.name.73"
                  type="Double">
            </column>
            <column
                  column="8024010000"
                  name="%column.name.74"
                  type="Double">
            </column>
            <column
                  column="8024020000"
                  name="%column.name.75"
                  type="Double">
            </column>
            <column
                  column="8025010000"
                  name="%column.name.76"
                  type="Double">
            </column>
            <column
                  column="8027010000"
                  name="%column.name.77"
                  type="Double">
            </column>
            <column
                  column="8029010000"
                  name="%column.name.78"
                  type="Double">
            </column>
            <column
                  column="8030010000"
                  name="%column.name.79"
                  type="Double">
            </column>
            <column
                  column="8031010000"
                  name="%column.name.80"
                  type="Double">
            </column>
            <column
                  column="8032010000"
                  name="%column.name.81"
                  type="Double">
            </column>
            <column
                  column="8033010000"
                  name="%column.name.82"
                  type="Double">
            </column>
            <column
                  column="8034010000"
                  name="%column.name.83"
                  type="Double">
            </column>
            <column
                  column="8038020000"
                  name="%column.name.84"
                  type="Double">
            </column>
            <column
                  column="8038030000"
                  name="%column.name.85"
                  type="Double">
            </column>
            <column
                  column="8038050000"
                  name="%column.name.86"
                  type="Double">
            </column>
            <column
                  column="8039010000"
                  name="%column.name.87"
                  type="Double">
            </column>
            <column
                  column="8040010000"
                  name="%column.name.88"
                  type="Double">
            </column>
            <column
                  column="8044010000"
                  name="%column.name.89"
                  type="Double">
            </column>
            <column
                  column="8045010000"
                  name="%column.name.90"
                  type="Double">
            </column>
            <column
                  column="8046010000"
                  name="%column.name.91"
                  type="Double">
            </column>
            <column
                  column="8047010000"
                  name="%column.name.92"
                  type="Double">
            </column>
            <column
                  column="8048010000"
                  name="%column.name.93"
                  type="Double">
            </column>
            <column
                  column="8049010000"
                  name="%column.name.94"
                  type="Double">
            </column>
            <column
                  column="8050010000"
                  name="%column.name.95"
                  type="Double">
            </column>
            <column
                  column="8052010000"
                  name="%column.name.96"
                  type="Double">
            </column>
            <column
                  column="8054010000"
                  name="%column.name.97"
                  type="Double">
            </column>
            <column
                  column="8055010000"
                  name="%column.name.98"
                  type="Double">
            </column>
            <column
                  column="8058010000"
                  name="%column.name.99"
                  type="Double">
            </column>
            <column
                  column="8060010000"
                  name="%column.name.100"
                  type="Double">
            </column>
            <column
                  column="8061010000"
                  name="%column.name.101"
                  type="Double">
            </column>
            <column
                  column="8070010000"
                  name="%column.name.102"
                  type="Double">
            </column>
            <column
                  column="8072010000"
                  name="%column.name.103"
                  type="Double">
            </column>
            <column
                  column="8082010000"
                  name="%column.name.104"
                  type="Double">
            </column>
            <column
                  column="8083010000"
                  name="%column.name.105"
                  type="Double">
            </column>
            <column
                  column="8099990000"
                  name="%column.name.106"
                  type="Double">
            </column>
            <column
                  column="8017050000"
                  name="%column.name.107"
                  type="Double">
            </column>
            <column
                  column="8017060000"
                  name="%column.name.108"
                  type="Double">
            </column>
            <column
                  column="8017070000"
                  name="%column.name.109"
                  type="Double">
            </column>
         </columnGroup>
      </table>
      <table
            dataSet="com.sg.business.visualization.data.ProjectAllocatedInvestment"
            fix="3"
            id="project.allocatedinvestment"
            preload="40"
            useHashlookup="true"
            virtual="true">
         <column
               column="year"
               name="%column.name.110"
               type="Integer"
               width="40">
         </column>
         <column
               column="month"
               name="%column.name.111"
               type="Integer"
               width="40">
         </column>
         <column
               column="summ"
               labelProvider="com.sg.business.visualization.labelprovider.CostSummary"
               name="%column.name.112"
               type="Double">
         </column>
         <columnGroup
               defaultGroup="false"
               id="明细"
               name="%columnGroup.name.0">
            <column
                  column="8002030000"
                  name="%column.name.113"
                  type="Double">
            </column>
            <column
                  column="8002060000"
                  name="%column.name.114"
                  type="Double">
            </column>
            <column
                  column="8002080000"
                  name="%column.name.115"
                  type="Double">
            </column>
            <column
                  column="8002100000"
                  name="%column.name.116"
                  type="Double">
            </column>
            <column
                  column="8002110000"
                  name="%column.name.117"
                  type="Double">
            </column>
            <column
                  column="8002120000"
                  name="%column.name.118"
                  type="Double">
            </column>
            <column
                  column="8005010000"
                  name="%column.name.119"
                  type="Double">
            </column>
            <column
                  column="8006010000"
                  name="%column.name.120"
                  type="Double">
            </column>
            <column
                  column="8007010000"
                  name="%column.name.121"
                  type="Double">
            </column>
            <column
                  column="8008010000"
                  name="%column.name.122"
                  type="Double">
            </column>
            <column
                  column="8009010000"
                  name="%column.name.123"
                  type="Double">
            </column>
            <column
                  column="8009030000"
                  name="%column.name.124"
                  type="Double">
            </column>
            <column
                  column="8009040000"
                  name="%column.name.125"
                  type="Double">
            </column>
            <column
                  column="8009050000"
                  name="%column.name.126"
                  type="Double">
            </column>
            <column
                  column="8009060000"
                  name="%column.name.127"
                  type="Double">
            </column>
            <column
                  column="8009070000"
                  name="%column.name.128"
                  type="Double">
            </column>
            <column
                  column="8010010000"
                  name="%column.name.129"
                  type="Double">
            </column>
            <column
                  column="8010020000"
                  name="%column.name.130"
                  type="Double">
            </column>
            <column
                  column="8010030000"
                  name="%column.name.131"
                  type="Double">
            </column>
            <column
                  column="8011010000"
                  name="%column.name.132"
                  type="Double">
            </column>
            <column
                  column="8012010000"
                  name="%column.name.133"
                  type="Double">
            </column>
            <column
                  column="8012020000"
                  name="%column.name.134"
                  type="Double">
            </column>
            <column
                  column="8012050000"
                  name="%column.name.135"
                  type="Double">
            </column>
            <column
                  column="8013020000"
                  name="%column.name.136"
                  type="Double">
            </column>
            <column
                  column="8013030000"
                  name="%column.name.137"
                  type="Double">
            </column>
            <column
                  column="8014020000"
                  name="%column.name.138"
                  type="Double">
            </column>
            <column
                  column="8014030000"
                  name="%column.name.139"
                  type="Double">
            </column>
            <column
                  column="8014040000"
                  name="%column.name.140"
                  type="Double">
            </column>
            <column
                  column="8015010000"
                  name="%column.name.141"
                  type="Double">
            </column>
            <column
                  column="8015020000"
                  name="%column.name.142"
                  type="Double">
            </column>
            <column
                  column="8016010000"
                  name="%column.name.143"
                  type="Double">
            </column>
            <column
                  column="8016020000"
                  name="%column.name.144"
                  type="Double">
            </column>
            <column
                  column="8016030000"
                  name="%column.name.145"
                  type="Double">
            </column>
            <column
                  column="8016040000"
                  name="%column.name.146"
                  type="Double">
            </column>
            <column
                  column="8017010000"
                  name="%column.name.147"
                  type="Double">
            </column>
            <column
                  column="8017090000"
                  name="%column.name.148"
                  type="Double">
            </column>
            <column
                  column="8018010000"
                  name="%column.name.149"
                  type="Double">
            </column>
            <column
                  column="8018020000"
                  name="%column.name.150"
                  type="Double">
            </column>
            <column
                  column="8018990000"
                  name="%column.name.151"
                  type="Double">
            </column>
            <column
                  column="8019010000"
                  name="%column.name.152"
                  type="Double">
            </column>
            <column
                  column="8019020000"
                  name="%column.name.153"
                  type="Double">
            </column>
            <column
                  column="8019030000"
                  name="%column.name.154"
                  type="Double">
            </column>
            <column
                  column="8019040000"
                  name="%column.name.155"
                  type="Double">
            </column>
            <column
                  column="8020030000"
                  name="%column.name.156"
                  type="Double">
            </column>
            <column
                  column="8021010000"
                  name="%column.name.157"
                  type="Double">
            </column>
            <column
                  column="8022010000"
                  name="%column.name.158"
                  type="Double">
            </column>
            <column
                  column="8022020000"
                  name="%column.name.159"
                  type="Double">
            </column>
            <column
                  column="8023010000"
                  name="%column.name.160"
                  type="Double">
            </column>
            <column
                  column="8024010000"
                  name="%column.name.161"
                  type="Double">
            </column>
            <column
                  column="8024020000"
                  name="%column.name.162"
                  type="Double">
            </column>
            <column
                  column="8025010000"
                  name="%column.name.163"
                  type="Double">
            </column>
            <column
                  column="8027010000"
                  name="%column.name.164"
                  type="Double">
            </column>
            <column
                  column="8029010000"
                  name="%column.name.165"
                  type="Double">
            </column>
            <column
                  column="8030010000"
                  name="%column.name.166"
                  type="Double">
            </column>
            <column
                  column="8031010000"
                  name="%column.name.167"
                  type="Double">
            </column>
            <column
                  column="8032010000"
                  name="%column.name.168"
                  type="Double">
            </column>
            <column
                  column="8033010000"
                  name="%column.name.169"
                  type="Double">
            </column>
            <column
                  column="8034010000"
                  name="%column.name.170"
                  type="Double">
            </column>
            <column
                  column="8038020000"
                  name="%column.name.171"
                  type="Double">
            </column>
            <column
                  column="8038030000"
                  name="%column.name.172"
                  type="Double">
            </column>
            <column
                  column="8038050000"
                  name="%column.name.173"
                  type="Double">
            </column>
            <column
                  column="8039010000"
                  name="%column.name.174"
                  type="Double">
            </column>
            <column
                  column="8040010000"
                  name="%column.name.175"
                  type="Double">
            </column>
            <column
                  column="8044010000"
                  name="%column.name.176"
                  type="Double">
            </column>
            <column
                  column="8045010000"
                  name="%column.name.177"
                  type="Double">
            </column>
            <column
                  column="8046010000"
                  name="%column.name.178"
                  type="Double">
            </column>
            <column
                  column="8047010000"
                  name="%column.name.179"
                  type="Double">
            </column>
            <column
                  column="8048010000"
                  name="%column.name.180"
                  type="Double">
            </column>
            <column
                  column="8049010000"
                  name="%column.name.181"
                  type="Double">
            </column>
            <column
                  column="8050010000"
                  name="%column.name.182"
                  type="Double">
            </column>
            <column
                  column="8052010000"
                  name="%column.name.183"
                  type="Double">
            </column>
            <column
                  column="8054010000"
                  name="%column.name.184"
                  type="Double">
            </column>
            <column
                  column="8055010000"
                  name="%column.name.185"
                  type="Double">
            </column>
            <column
                  column="8058010000"
                  name="%column.name.186"
                  type="Double">
            </column>
            <column
                  column="8060010000"
                  name="%column.name.187"
                  type="Double">
            </column>
            <column
                  column="8061010000"
                  name="%column.name.188"
                  type="Double">
            </column>
            <column
                  column="8070010000"
                  name="%column.name.189"
                  type="Double">
            </column>
            <column
                  column="8072010000"
                  name="%column.name.190"
                  type="Double">
            </column>
            <column
                  column="8082010000"
                  name="%column.name.191"
                  type="Double">
            </column>
            <column
                  column="8083010000"
                  name="%column.name.192"
                  type="Double">
            </column>
            <column
                  column="8099990000"
                  name="%column.name.193"
                  type="Double">
            </column>
            <column
                  column="8017050000"
                  name="%column.name.194"
                  type="Double">
            </column>
            <column
                  column="8017060000"
                  name="%column.name.195"
                  type="Double">
            </column>
            <column
                  column="8017070000"
                  name="%column.name.196"
                  type="Double">
            </column>
         </columnGroup>
      </table>
      <table
            dataSet="com.sg.business.visualization.data.ProjectRevenue"
            fix="4"
            id="project.revenue"
            preload="40"
            useHashlookup="true"
            virtual="true">
         <column
               column="GJAHR"
               name="%column.name.197"
               type="String"
               width="40">
         </column>
         <column
               column="PERDE"
               name="%column.name.198"
               type="String"
               width="40">
         </column>
         <column
               column="MATNR"
               name="%column.name.199"
               type="String">
         </column>
         <column
               column="VV010"
               name="%column.name.200"
               type="Double">
         </column>
         <column
               column="VV030"
               name="%column.name.201"
               type="Double">
         </column>
         <column
               column="VV040"
               name="%column.name.202"
               type="Double">
         </column>
         <column
               column="KNDNR"
               name="%column.name.203"
               type="String">
         </column>
      </table>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="visualization"
            class="com.sg.business.visualization.view.CombinnatiedRateView"
            id="vis2.combinnatiedrate"
            name="期间综合比率"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.ProfitRateView"
            id="vis2.profitrate"
            name="期间项目利润率"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.BudgetAndInvestmentVolumnView"
            id="vis2.budgetandinvestmentvolumn"
            name="期间预算支出量"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.ProfitVolumnView"
            id="vis2.profitvolumn"
            name="期间销售利润"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.OverSchedualVolumnView"
            id="vis2.overschedualvolumn"
            name="期间项目超期数"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.ProfitListView"
            id="vis2.profitlist"
            name="期间利润排名"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.RevenueListView"
            id="vis2.revenuelist"
            name="期间销售额排名"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.OverCostListView"
            id="vis2.overcostlist"
            name="期间超支排名"
            restorable="true">
      </view>
      <view
            category="visualization"
            class="com.sg.business.visualization.view.IndicatorsView"
            id="vis2.indicators"
            name="指示器"
            restorable="true">
      </view>
   </extension>

</plugin>
