<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="home"
            class="com.sg.business.home.view.MyWorkView"
            id="com.sg.business.home.mywork"
            name="我的工作"
            restorable="true">
      </view>
      <view
            category="home"
            class="com.sg.business.home.view.BulletinBoardView"
            id="home.bulletinboard"
            name="公告板"
            restorable="true">
      </view>
      <view
            category="home"
            class="com.sg.business.home.view.MyCalendar"
            id="com.sg.business.home.mycalendar"
            name="日历"
            restorable="true">
      </view>
      <view
            category="home"
            class="com.sg.business.home.view.SummaryView"
            id="com.sg.business.home.summary"
            name="业务概览"
            restorable="true">
      </view>
      <category
            id="home"
            name="我的工作">
      </category>
   </extension>
   <extension
         point="com.sg.widgets.navigator">
      <navigator
            id="home.bulletinboard"
            tree="home.bulletinboard">
         <createEditor
               editorId="bulletinboard.editor.create">
         </createEditor>
         <createEditor
               editorId="bulletinboard.editor.reply">
         </createEditor>
      </navigator>
   </extension>
   <extension
         point="com.sg.widgets.tree">
      <tree
            autoExpandLevel="-1"
            customItemHeight="60"
            dataSet="com.sg.business.model.dataset.bulletinboard.BulletinBoardDataSet"
            editorId="bulletinboard.editor.create"
            headerVisiable="false"
            id="home.bulletinboard"
            markupEnabled="true"
            popupMenu="popup:menu.bulletinboard">
         <structure
               modelRelation="bulletinboard_bulletinboard">
         </structure>
         <column
               column="desc"
               labelProvider="com.sg.widgets.commons.labelprovider.HTMLLabelprovider"
               name="标题"
               style="SWT.LEFT"
               type="String"
               width="-1"></column>
         <column
               column="attachment"
               labelProvider="com.sg.business.commons.labelprovider.AttachmentLabelProvider"
               name="附件"
               style="SWT.CENTER"
               type="String"
               width="36"></column>
      </tree>
   </extension>
   <extension
         point="com.sg.widgets.dataEditor">
      <editor
            collectionName="bulletinboard"
            dbName="pm2"
            id="bulletinboard.editor.create"
            name="发布新公告"
            titleToolTips="发布新公告">
         <basicpage
               description="新公告"
               id="basicpage"
               title="新公告">
            <pagecolumn>
               <section
                     label="标题">
                  <text
                        editPart="Text(Single Line)"
                        editable="true"
                        id="desc"
                        label="标题"
                        labelVisible="true"
                        name="desc"
                        persistable="true"
                        required="false"
                        type="String">
                  </text>
                  <fieldgroup
                        columnCount="3">
                     <text
                           defaultValueProvider="com.sg.business.commons.value.CurrentUser"
                           editPart="Text(Single Line)"
                           editable="true"
                           id="publisher"
                           label="发布人"
                           labelVisible="true"
                           name="publisher"
                           persistable="true"
                           presentation="com.sg.business.commons.field.UserIdFieldPres"
                           required="false"
                           type="String">
                     </text>
                     <text
                           defaultValueProvider="com.sg.business.commons.value.TodayDefault"
                           editPart="Text(Single Line)"
                           editable="true"
                           id="publish_date"
                           label="发布时间"
                           labelVisible="true"
                           name="publish_date"
                           persistable="true"
                           required="false"
                           type="String">
                     </text>
                     <text
                           editPart="Text(Single Line)"
                           editable="true"
                           id="organization_id"
                           label="发布部门"
                           labelVisible="true"
                           name="organization_id"
                           persistable="true"
                           required="false"
                           type="String">
                     </text>
                  </fieldgroup>
               </section>
               <section
                     label="公告">
                  <text
                        editPart="Text(Multi Line)"
                        editable="true"
                        heightHint="160"
                        id="content"
                        label="公告"
                        labelVisible="false"
                        name="content"
                        persistable="true"
                        required="false"
                        type="String">
                  </text>
               </section>
            </pagecolumn>
         </basicpage>
         <basicpage
               description="附件"
               id="basicpage2"
               title="附件">
            <pagecolumn
                  id="附件">
               <section
                     label="附件">
                  <file
                        editPart="OfficeFileUploader"
                        editable="true"
                        heightHint="240"
                        id="attachment"
                        label="附件"
                        labelVisible="false"
                        name="attachment"
                        persistable="true"
                        required="false">
                  </file>
               </section>
            </pagecolumn>
         </basicpage>
      </editor>
      <editor
            collectionName="bulletinboard"
            dbName="pm2"
            id="bulletinboard.editor.reply"
            name="回复公告"
            titleToolTips="回复公告">
         <basicpage
               description="新公告"
               id="basicpage"
               title="新公告">
            <pagecolumn>
               <section
                     label="回复">
                  <fieldgroup
                        columnCount="3">
                     <text
                           editPart="Text(Single Line)"
                           editable="true"
                           id="publisher"
                           label="回复人"
                           labelVisible="true"
                           name="publisher"
                           persistable="true"
                           required="false"
                           type="String">
                     </text>
                     <text
                           editPart="Text(Single Line)"
                           editable="true"
                           id="publish_date"
                           label="回复时间"
                           labelVisible="true"
                           name="publish_date"
                           persistable="true"
                           required="false"
                           type="String">
                     </text>
                     <text
                           editPart="Text(Single Line)"
                           editable="true"
                           id="organization_id"
                           label="回复部门"
                           labelVisible="true"
                           name="organization_id"
                           persistable="true"
                           required="false"
                           type="String">
                     </text>
                  </fieldgroup>
               </section>
               <section
                     label="回复">
                  <text
                        editPart="Text(Multi Line)"
                        editable="true"
                        heightHint="160"
                        id="content"
                        label="回复"
                        labelVisible="false"
                        name="content"
                        persistable="true"
                        required="false"
                        type="String">
                  </text>
               </section>
            </pagecolumn>
         </basicpage>
         <basicpage
               description="附件"
               id="basicpage2"
               title="附件">
            <pagecolumn
                  id="附件">
               <section
                     label="附件">
                  <file
                        editPart="OfficeFileUploader"
                        editable="true"
                        heightHint="240"
                        id="attachment"
                        label="附件"
                        labelVisible="false"
                        name="attachment"
                        persistable="true"
                        required="false">
                  </file>
               </section>
            </pagecolumn>
         </basicpage>
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:menu.bulletinboard">
         <command
               commandId="bulletinboard.add"
               icon="image/create2_24.png"
               label="新建公告"
               style="push">
         </command>
         <command
               commandId="bulletinboard.reply"
               label="回复公告"
               style="push">
         </command>
         <command
               commandId="bulletinboard.open"
               label="查看公告"
               style="push">
         </command>
         <separator
               name="bulletinboard.separator1"
               visible="true">
         </separator>
         <command
               commandId="com.sg.widgets.command.edit"
               icon="image/edit_24.png"
               label="编辑"
               style="push">
         </command>
         <command
               commandId="com.sg.widgets.command.refresh"
               icon="image/refresh_24.png"
               label="更新"
               style="push">
         </command>
         <command
               commandId="com.sg.widgets.command.delete"
               icon="image/trash_24.png"
               label="删除"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="bulletinboard.add"
            name="新建公告">
      </command>
      <command
            id="bulletinboard.reply"
            name="回复公告">
      </command>
      <command
            id="bulletinboard.open"
            name="查看公告">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.sg.bussiness.home.handler.AddBulletinBoard"
            commandId="bulletinboard.add">
      </handler>
      <handler
            class="com.sg.bussiness.home.handler.ReplyBulletinBoard"
            commandId="bulletinboard.reply">
      </handler>
      <handler
            class="com.sg.bussiness.home.handler.OpenBulletinBoard"
            commandId="bulletinboard.open">
      </handler>
   </extension>

</plugin>
